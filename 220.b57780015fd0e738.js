(self.webpackChunkAIPlayground=self.webpackChunkAIPlayground||[]).push([[220],{3917:(ye,q,y)=>{"use strict";y.d(q,{f:()=>hn});var w=y(5861),D=y(3905),A=y(4004),U=y(7225),v=y(3172),m=y(4650),k=y(4333),c=y(8306),C=y(9646),R=y(8996),M=y(8372),H=y(3900),x=y(5813),E=y(2011),B=y(3942),I=y(9681),F=y(2090),N=y(3475);const J="firebasestorage.googleapis.com",ae="storageBucket";class O extends F.ZR{constructor(e,i){super(Re(e),`Firebase Storage: ${i} (${Re(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,O.prototype)}_codeEquals(e){return Re(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Re(n){return"storage/"+n}function Se(){return new O("unknown","An unknown error occurred, please check the error payload for server response.")}function ke(){return new O("canceled","User canceled the upload/download.")}function De(){return new O("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function z(n){return new O("invalid-argument",n)}function Fe(){return new O("app-deleted","The Firebase app was deleted.")}function Ce(n){return new O("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function me(n,e){return new O("invalid-format","String does not match format '"+n+"': "+e)}function we(n){throw new O("internal-error","Internal error: "+n)}class V{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let s;try{s=V.makeFromUrl(e,i)}catch{return new V(e,"")}if(""===s.path)return s;throw function Qe(n){return new O("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,i){let s=null;const u="([A-Za-z0-9.\\-_]+)",_=new RegExp("^gs://"+u+"(/(.*))?$","i");function b(Q){Q.path_=decodeURIComponent(Q.path)}const W=i.replace(/[.]/g,"\\."),te=[{regex:_,indices:{bucket:1,path:3},postModify:function h(Q){"/"===Q.path.charAt(Q.path.length-1)&&(Q.path_=Q.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${W}/v[A-Za-z0-9_]+/b/${u}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:b},{regex:new RegExp(`^https?://${i===J?"(?:storage.googleapis.com|storage.cloud.google.com)":i}/${u}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:b}];for(let Q=0;Q<te.length;Q++){const Ue=te[Q],Ae=Ue.regex.exec(e);if(Ae){let Me=Ae[Ue.indices.path];Me||(Me=""),s=new V(Ae[Ue.indices.bucket],Me),Ue.postModify(s);break}}if(null==s)throw function Je(n){return new O("invalid-url","Invalid URL '"+n+"'.")}(e);return s}}class Ie{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function _e(n){return"string"==typeof n||n instanceof String}function Ne(n){return o()&&n instanceof Blob}function o(){return typeof Blob<"u"}function t(n,e,i,s){if(s<e)throw z(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>i)throw z(`Invalid value for '${n}'. Expected ${i} or less.`)}function r(n,e,i){let s=e;return null==i&&(s=`https://${e}`),`${i}://${s}/v0${n}`}function a(n){const e=encodeURIComponent;let i="?";for(const s in n)n.hasOwnProperty(s)&&(i=i+(e(s)+"=")+e(n[s])+"&");return i=i.slice(0,-1),i}var l=(()=>{return(n=l||(l={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",l;var n})();class f{constructor(e,i,s,u,h,d,_,g,b,T,W){this.url_=e,this.method_=i,this.headers_=s,this.body_=u,this.successCodes_=h,this.additionalRetryCodes_=d,this.callback_=_,this.errorCallback_=g,this.timeout_=b,this.progressCallback_=T,this.connectionFactory_=W,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($,Z)=>{this.resolve_=$,this.reject_=Z,this.start_()})}start_(){const i=(s,u)=>{const h=this.resolve_,d=this.reject_,_=u.connection;if(u.wasSuccessCode)try{const g=this.callback_(_,_.getResponse());!function Oe(n){return void 0!==n}(g)?h():h(g)}catch(g){d(g)}else if(null!==_){const g=Se();g.serverResponse=_.getErrorText(),d(this.errorCallback_?this.errorCallback_(_,g):g)}else d(u.canceled?this.appDelete_?Fe():ke():function Le(){return new O("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?i(0,new p(!1,null,!0)):this.backoffId_=function rt(n,e,i){let s=1,u=null,h=null,d=!1,_=0;function g(){return 2===_}let b=!1;function T(...X){b||(b=!0,e.apply(null,X))}function W(X){u=setTimeout(()=>{u=null,n(Z,g())},X)}function $(){h&&clearTimeout(h)}function Z(X,...pe){if(b)return void $();if(X)return $(),void T.call(null,X,...pe);if(g()||d)return $(),void T.call(null,X,...pe);let te;s<64&&(s*=2),1===_?(_=2,te=0):te=1e3*(s+Math.random()),W(te)}let K=!1;function se(X){K||(K=!0,$(),!b&&(null!==u?(X||(_=2),clearTimeout(u),W(0)):X||(_=1)))}return W(0),h=setTimeout(()=>{d=!0,se(!0)},i),se}((s,u)=>{if(u)return void s(!1,new p(!1,null,!0));const h=this.connectionFactory_();this.pendingConnection_=h;const d=_=>{null!==this.progressCallback_&&this.progressCallback_(_.loaded,_.lengthComputable?_.total:-1)};null!==this.progressCallback_&&h.addUploadProgressListener(d),h.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&h.removeUploadProgressListener(d),this.pendingConnection_=null;const _=h.getErrorCode()===l.NO_ERROR,g=h.getStatus();if(!_||this.isRetryStatusCode_(g)){const T=h.getErrorCode()===l.ABORT;return void s(!1,new p(!1,null,T))}const b=-1!==this.successCodes_.indexOf(g);s(!0,new p(b,h))})},i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function nt(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const i=e>=500&&e<600,u=-1!==[408,429].indexOf(e),h=-1!==this.additionalRetryCodes_.indexOf(e);return i||u||h}}class p{constructor(e,i,s){this.wasSuccessCode=e,this.connection=i,this.canceled=!!s}}function Ge(...n){const e=function be(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const i=new e;for(let s=0;s<n.length;s++)i.append(n[s]);return i.getBlob()}if(o())return new Blob(n);throw new O("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ie={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class it{constructor(e,i){this.data=e,this.contentType=i||null}}function ot(n,e){switch(n){case ie.RAW:return new it(mt(e));case ie.BASE64:case ie.BASE64URL:return new it(_t(n,e));case ie.DATA_URL:return new it(function Xt(n){const e=new yt(n);return e.base64?_t(ie.BASE64,e.rest):function jt(n){let e;try{e=decodeURIComponent(n)}catch{throw me(ie.DATA_URL,"Malformed data URL.")}return mt(e)}(e.rest)}(e),function Zt(n){return new yt(n).contentType}(e))}throw Se()}function mt(n){const e=[];for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<=127?e.push(s):s<=2047?e.push(192|s>>6,128|63&s):55296==(64512&s)?i<n.length-1&&56320==(64512&n.charCodeAt(i+1))?(s=65536|(1023&s)<<10|1023&n.charCodeAt(++i),e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):e.push(239,191,189):56320==(64512&s)?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(e)}function _t(n,e){switch(n){case ie.BASE64:{const u=-1!==e.indexOf("-"),h=-1!==e.indexOf("_");if(u||h)throw me(n,"Invalid character '"+(u?"-":"_")+"' found: is it base64url encoded?");break}case ie.BASE64URL:{const u=-1!==e.indexOf("+"),h=-1!==e.indexOf("/");if(u||h)throw me(n,"Invalid character '"+(u?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=function qt(n){return atob(n)}(e)}catch{throw me(n,"Invalid character found")}const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}class yt{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(null===i)throw me(ie.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=i[1]||null;null!=s&&(this.base64=function Kt(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}class le{constructor(e,i){let s=0,u="";Ne(e)?(this.data_=e,s=e.size,u=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=u}size(){return this.size_}type(){return this.type_}slice(e,i){if(Ne(this.data_)){const u=function He(n,e,i){return n.webkitSlice?n.webkitSlice(e,i):n.mozSlice?n.mozSlice(e,i):n.slice?n.slice(e,i):null}(this.data_,e,i);return null===u?null:new le(u)}{const s=new Uint8Array(this.data_.buffer,e,i-e);return new le(s,!0)}}static getBlob(...e){if(o()){const i=e.map(s=>s instanceof le?s.data_:s);return new le(Ge.apply(null,i))}{const i=e.map(d=>_e(d)?ot(ie.RAW,d).data:d.data_);let s=0;i.forEach(d=>{s+=d.byteLength});const u=new Uint8Array(s);let h=0;return i.forEach(d=>{for(let _=0;_<d.length;_++)u[h++]=d[_]}),new le(u,!0)}}uploadData(){return this.data_}}function st(n){let e;try{e=JSON.parse(n)}catch{return null}return function oe(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function wt(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Jt(n,e){return e}class re{constructor(e,i,s,u){this.server=e,this.local=i||e,this.writable=!!s,this.xform=u||Jt}}let $e=null;function Be(){if($e)return $e;const n=[];n.push(new re("bucket")),n.push(new re("generation")),n.push(new re("metageneration")),n.push(new re("name","fullPath",!0));const i=new re("name");i.xform=function e(h,d){return function Qt(n){return!_e(n)||n.length<2?n:wt(n)}(d)},n.push(i);const u=new re("size");return u.xform=function s(h,d){return void 0!==d?Number(d):d},n.push(u),n.push(new re("timeCreated")),n.push(new re("updated")),n.push(new re("md5Hash",null,!0)),n.push(new re("cacheControl",null,!0)),n.push(new re("contentDisposition",null,!0)),n.push(new re("contentEncoding",null,!0)),n.push(new re("contentLanguage",null,!0)),n.push(new re("contentType",null,!0)),n.push(new re("metadata","customMetadata",!0)),$e=n,$e}function xt(n,e,i){const s=st(e);return null===s?null:function tr(n,e,i){const s={type:"file"},u=i.length;for(let h=0;h<u;h++){const d=i[h];s[d.local]=d.xform(s,e[d.server])}return function er(n,e){Object.defineProperty(n,"ref",{get:function i(){const h=new V(n.bucket,n.fullPath);return e._makeStorageReference(h)}})}(s,n),s}(n,s,i)}function at(n,e){const i={},s=e.length;for(let u=0;u<s;u++){const h=e[u];h.writable&&(i[h.server]=n[h.local])}return JSON.stringify(i)}const Rt="prefixes";class ce{constructor(e,i,s,u){this.url=e,this.method=i,this.handler=s,this.timeout=u,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function he(n){if(!n)throw Se()}function ze(n,e){return function i(s,u){const h=xt(n,u,e);return he(null!==h),h}}function ve(n){return function e(i,s){let u;return u=401===i.getStatus()?i.getErrorText().includes("Firebase App Check token is invalid")?function Ve(){return new O("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Ke(){return new O("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===i.getStatus()?function Ze(n){return new O("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===i.getStatus()?function Ye(n){return new O("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):s,u.serverResponse=s.serverResponse,u}}function Pe(n){const e=ve(n);return function i(s,u){let h=e(s,u);return 404===s.getStatus()&&(h=function Xe(n){return new O("object-not-found","Object '"+n+"' does not exist.")}(n.path)),h.serverResponse=u.serverResponse,h}}function bt(n,e,i){const u=r(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,_=new ce(u,"GET",ze(n,i),d);return _.errorHandler=Pe(e),_}function ar(n,e,i,s,u){const h={};h.prefix=e.isRoot?"":e.path+"/",i&&i.length>0&&(h.delimiter=i),s&&(h.pageToken=s),u&&(h.maxResults=u);const _=r(e.bucketOnlyServerUrl(),n.host,n._protocol),b=n.maxOperationRetryTime,T=new ce(_,"GET",function or(n,e){return function i(s,u){const h=function ir(n,e,i){const s=st(i);return null===s?null:function nr(n,e,i){const s={prefixes:[],items:[],nextPageToken:i.nextPageToken};if(i[Rt])for(const u of i[Rt]){const h=u.replace(/\/$/,""),d=n._makeStorageReference(new V(e,h));s.prefixes.push(d)}if(i.items)for(const u of i.items){const h=n._makeStorageReference(new V(e,u.name));s.items.push(h)}return s}(n,e,s)}(n,e,u);return he(null!==h),h}}(n,e.bucket),b);return T.urlParams=h,T.errorHandler=ve(e),T}function Tt(n,e,i){const s=Object.assign({},i);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=function hr(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),s}class We{constructor(e,i,s,u){this.current=e,this.total=i,this.finalized=!!s,this.metadata=u||null}}function ut(n,e){let i=null;try{i=n.getResponseHeader("X-Goog-Upload-Status")}catch{he(!1)}return he(!!i&&-1!==(e||["active"]).indexOf(i)),i}const gr={STATE_CHANGED:"state_changed"},ne={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function lt(n){switch(n){case"running":case"pausing":case"canceling":return ne.RUNNING;case"paused":return ne.PAUSED;case"success":return ne.SUCCESS;case"canceled":return ne.CANCELED;default:return ne.ERROR}}class mr{constructor(e,i,s){if(function Ee(n){return"function"==typeof n}(e)||null!=i||null!=s)this.next=e,this.error=i??void 0,this.complete=s??void 0;else{const h=e;this.next=h.next,this.error=h.error,this.complete=h.complete}}}function Te(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class yr extends class _r{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=l.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=l.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=l.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,s,u){if(this.sent_)throw we("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,e,!0),void 0!==u)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw we("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw we("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw we("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw we("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ue(){return new yr}class kt{constructor(e,i,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=i,this._metadata=s,this._mappings=Be(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=u=>{this._request=void 0,this._chunkMultiplier=1,u._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=u,this._transition("error"))},this._metadataErrorHandler=u=>{this._request=void 0,u._codeEquals("canceled")?this.completeTransitions_():(this._error=u,this._transition("error"))},this._promise=new Promise((u,h)=>{this._resolve=u,this._reject=h,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return i=>this._updateProgress(e+i)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([i,s])=>{switch(this._state){case"running":e(i,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,i)=>{const s=function dr(n,e,i,s,u){const h=e.bucketOnlyServerUrl(),d=Tt(e,s,u),_={name:d.fullPath},g=r(h,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},W=at(d,i),K=new ce(g,"POST",function Z(se){let X;ut(se);try{X=se.getResponseHeader("X-Goog-Upload-URL")}catch{he(!1)}return he(_e(X)),X},n.maxUploadRetryTime);return K.urlParams=_,K.headers=T,K.body=W,K.errorHandler=ve(e),K}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),u=this._ref.storage._makeRequest(s,ue,e,i);this._request=u,u.getPromise().then(h=>{this._request=void 0,this._uploadUrl=h,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((i,s)=>{const u=function fr(n,e,i,s){const g=new ce(i,"POST",function h(b){const T=ut(b,["active","final"]);let W=null;try{W=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch{he(!1)}W||he(!1);const $=Number(W);return he(!isNaN($)),new We($,s.size(),"final"===T)},n.maxUploadRetryTime);return g.headers={"X-Goog-Upload-Command":"query"},g.errorHandler=ve(e),g}(this._ref.storage,this._ref._location,e,this._blob),h=this._ref.storage._makeRequest(u,ue,i,s);this._request=h,h.getPromise().then(d=>{d=d,this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,i=new We(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((u,h)=>{let d;try{d=function pr(n,e,i,s,u,h,d,_){const g=new We(0,0);if(d?(g.current=d.current,g.total=d.total):(g.current=0,g.total=s.size()),s.size()!==g.total)throw function tt(){return new O("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const b=g.total-g.current;let T=b;u>0&&(T=Math.min(T,u));const W=g.current,K={"X-Goog-Upload-Command":T===b?"upload, finalize":"upload","X-Goog-Upload-Offset":`${g.current}`},se=s.slice(W,W+T);if(null===se)throw De();const te=new ce(i,"POST",function X(Q,Ue){const Ae=ut(Q,["active","final"]),pt=g.current+T,Me=s.size();let gt;return gt="final"===Ae?ze(e,h)(Q,Ue):null,new We(pt,Me,"final"===Ae,gt)},e.maxUploadRetryTime);return te.headers=K,te.body=se.uploadData(),te.progressCallback=_||null,te.errorHandler=ve(n),te}(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,i,this._makeProgressCallback())}catch(g){return this._error=g,void this._transition("error")}const _=this._ref.storage._makeRequest(d,ue,u,h);this._request=_,_.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,i)=>{const s=bt(this._ref.storage,this._ref._location,this._mappings),u=this._ref.storage._makeRequest(s,ue,e,i);this._request=u,u.getPromise().then(h=>{this._request=void 0,this._metadata=h,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,i)=>{const s=function Ut(n,e,i,s,u){const h=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},g=function _(){let te="";for(let Q=0;Q<2;Q++)te+=Math.random().toString().slice(2);return te}();d["Content-Type"]="multipart/related; boundary="+g;const b=Tt(e,s,u),T=at(b,i),Z=le.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+g+"\r\nContent-Type: "+b.contentType+"\r\n\r\n",s,"\r\n--"+g+"--");if(null===Z)throw De();const K={name:b.fullPath},se=r(h,n.host,n._protocol),pe=n.maxUploadRetryTime,ge=new ce(se,"POST",ze(n,i),pe);return ge.urlParams=K,ge.headers=d,ge.body=Z.uploadData(),ge.errorHandler=ve(e),ge}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),u=this._ref.storage._makeRequest(s,ue,e,i);this._request=u,u.getPromise().then(h=>{this._request=void 0,this._metadata=h,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const i=this._transferred;this._transferred=e,this._transferred!==i&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const i="paused"===this._state;this._state=e,i&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=ke(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=lt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,i,s,u){const h=new mr(i||void 0,s||void 0,u||void 0);return this._addObserver(h),()=>{this._removeObserver(h)}}then(e,i){return this._promise.then(e,i)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const i=this._observers.indexOf(e);-1!==i&&this._observers.splice(i,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(i=>{this._notifyObserver(i)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(lt(this._state)){case ne.SUCCESS:Te(this._resolve.bind(null,this.snapshot))();break;case ne.CANCELED:case ne.ERROR:Te(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(lt(this._state)){case ne.RUNNING:case ne.PAUSED:e.next&&Te(e.next.bind(e,this.snapshot))();break;case ne.SUCCESS:e.complete&&Te(e.complete.bind(e))();break;default:e.error&&Te(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class xe{constructor(e,i){this._service=e,this._location=i instanceof V?i:V.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new xe(e,i)}get root(){const e=new V(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wt(this._location.path)}get storage(){return this._service}get parent(){const e=function Vt(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const i=new V(this._location.bucket,e);return new xe(this._service,i)}_throwIfRoot(e){if(""===this._location.path)throw Ce(e)}}function Ct(n,e,i){return ct.apply(this,arguments)}function ct(){return(ct=(0,w.Z)(function*(n,e,i){const u=yield It(n,{pageToken:i});e.prefixes.push(...u.prefixes),e.items.push(...u.items),null!=u.nextPageToken&&(yield Ct(n,e,u.nextPageToken))})).apply(this,arguments)}function It(n,e){null!=e&&"number"==typeof e.maxResults&&t("options.maxResults",1,1e3,e.maxResults);const i=e||{},s=ar(n.storage,n._location,"/",i.pageToken,i.maxResults);return n.storage.makeRequestWithTokens(s,ue)}function Fr(n){n._throwIfRoot("getDownloadURL");const e=function ur(n,e,i){const u=r(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,_=new ce(u,"GET",function sr(n,e){return function i(s,u){const h=xt(n,u,e);return he(null!==h),function rr(n,e,i,s){const u=st(e);if(null===u||!_e(u.downloadTokens))return null;const h=u.downloadTokens;if(0===h.length)return null;const d=encodeURIComponent;return h.split(",").map(b=>{const W=n.fullPath;return r("/b/"+d(n.bucket)+"/o/"+d(W),i,s)+a({alt:"media",token:b})})[0]}(h,u,n.host,n._protocol)}}(n,i),d);return _.errorHandler=Pe(e),_}(n.storage,n._location,Be());return n.storage.makeRequestWithTokens(e,ue).then(i=>{if(null===i)throw function j(){return new O("no-download-url","The given file does not have any download URLs.")}();return i})}function Bt(n,e){const i=function Yt(n,e){const i=e.split("/").filter(s=>s.length>0).join("/");return 0===n.length?i:n+"/"+i}(n._location.path,e),s=new V(n._location.bucket,i);return new xe(n.storage,s)}function Pt(n,e){if(n instanceof ht){const i=n;if(null==i._bucket)throw function et(){return new O("no-default-bucket","No default bucket found. Did you set the '"+ae+"' property when initializing the app?")}();const s=new xe(i,i._bucket);return null!=e?Pt(s,e):s}return void 0!==e?Bt(n,e):n}function Pr(n,e){if(e&&function Ir(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof ht)return function Br(n,e){return new xe(n,e)}(n,e);throw z("To use ref(service, url), the first argument must be a Storage instance.")}return Pt(n,e)}function Mt(n,e){const i=null==e?void 0:e[ae];return null==i?null:V.makeFromBucketSpec(i,n)}class ht{constructor(e,i,s,u,h){this.app=e,this._authProvider=i,this._appCheckProvider=s,this._url=u,this._firebaseVersion=h,this._bucket=null,this._host=J,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=u?V.makeFromBucketSpec(u,this._host):Mt(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?V.makeFromBucketSpec(this._url,e):Mt(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){t("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){t("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,w.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const i=e._authProvider.getImmediate({optional:!0});if(i){const s=yield i.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,w.Z)(function*(){const i=e._appCheckProvider.getImmediate({optional:!0});return i?(yield i.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xe(this,e)}_makeRequest(e,i,s,u){if(this._deleted)return new Ie(Fe());{const h=function G(n,e,i,s,u,h){const d=a(n.urlParams),_=n.url+d,g=Object.assign({},n.headers);return function L(n,e){e&&(n["X-Firebase-GMPID"]=e)}(g,e),function S(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(g,i),function P(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(g,h),function Y(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(g,s),new f(_,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,u)}(e,this._appId,s,u,i,this._firebaseVersion);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}makeRequestWithTokens(e,i){var s=this;return(0,w.Z)(function*(){const[u,h]=yield Promise.all([s._getAuthToken(),s._getAppCheckToken()]);return s._makeRequest(e,i,u,h).getPromise()})()}}const Lt="@firebase/storage";function Nt(n,e){return Pr(n=(0,F.m9)(n),e)}function qr(n,{instanceIdentifier:e}){const i=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),u=n.getProvider("app-check-internal");return new ht(i,s,u,e,I.SDK_VERSION)}!function jr(){(0,I._registerComponent)(new N.wA("storage",qr,"PUBLIC").setMultipleInstances(!0)),(0,I.registerVersion)(Lt,"0.9.5",""),(0,I.registerVersion)(Lt,"0.9.5","esm2017")}();class qe{constructor(e,i,s){this._delegate=e,this.task=i,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Gt{constructor(e,i){this._delegate=e,this._ref=i,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new qe(this._delegate.snapshot,this,this._ref)}then(e,i){return this._delegate.then(s=>{if(e)return e(new qe(s,this,this._ref))},i)}on(e,i,s,u){let h;return i&&(h="function"==typeof i?d=>i(new qe(d,this,this._ref)):{next:i.next?d=>i.next(new qe(d,this,this._ref)):void 0,complete:i.complete||void 0,error:i.error||void 0}),this._delegate.on(e,h,s||void 0,u||void 0)}}class Ht{constructor(e,i){this._delegate=e,this._service=i}get prefixes(){return this._delegate.prefixes.map(e=>new fe(e,this._service))}get items(){return this._delegate.items.map(e=>new fe(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class fe{constructor(e,i){this._delegate=e,this.storage=i}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const i=function zr(n,e){return Bt(n,e)}(this._delegate,e);return new fe(i,this.storage)}get root(){return new fe(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new fe(e,this.storage)}put(e,i){return this._throwIfRoot("put"),new Gt(function Lr(n,e,i){return function Tr(n,e,i){return n._throwIfRoot("uploadBytesResumable"),new kt(n,new le(e),i)}(n=(0,F.m9)(n),e,i)}(this._delegate,e,i),this)}putString(e,i=ie.RAW,s){this._throwIfRoot("putString");const u=ot(i,e),h=Object.assign({},s);return null==h.contentType&&null!=u.contentType&&(h.contentType=u.contentType),new Gt(new kt(this._delegate,new le(u.data,!0),h),this)}listAll(){return function Gr(n){return function Ar(n){const e={prefixes:[],items:[]};return Ct(n,e).then(()=>e)}(n=(0,F.m9)(n))}(this._delegate).then(e=>new Ht(e,this.storage))}list(e){return function Nr(n,e){return It(n=(0,F.m9)(n),e)}(this._delegate,e||void 0).then(i=>new Ht(i,this.storage))}getMetadata(){return function Dr(n){return function Sr(n){n._throwIfRoot("getMetadata");const e=bt(n.storage,n._location,Be());return n.storage.makeRequestWithTokens(e,ue)}(n=(0,F.m9)(n))}(this._delegate)}updateMetadata(e){return function Or(n,e){return function kr(n,e){n._throwIfRoot("updateMetadata");const i=function lr(n,e,i,s){const h=r(e.fullServerUrl(),n.host,n._protocol),_=at(i,s),b=n.maxOperationRetryTime,T=new ce(h,"PATCH",ze(n,s),b);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=_,T.errorHandler=Pe(e),T}(n.storage,n._location,e,Be());return n.storage.makeRequestWithTokens(i,ue)}(n=(0,F.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function Hr(n){return Fr(n=(0,F.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function $r(n){return function Cr(n){n._throwIfRoot("deleteObject");const e=function cr(n,e){const s=r(e.fullServerUrl(),n.host,n._protocol),_=new ce(s,"DELETE",function d(g,b){},n.maxOperationRetryTime);return _.successCodes=[200,204],_.errorHandler=Pe(e),_}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,ue)}(n=(0,F.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw Ce(e)}}class $t{constructor(e,i){this.app=e,this._delegate=i}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(zt(e))throw z("ref() expected a child path but got a URL, use refFromURL instead.");return new fe(Nt(this._delegate,e),this)}refFromURL(e){if(!zt(e))throw z("refFromURL() expected a full URL but got a child path, use ref() instead.");try{V.makeFromUrl(e,this._delegate.host)}catch{throw z("refFromUrl() expected a valid full URL but got an invalid one.")}return new fe(Nt(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,i,s={}){!function Wr(n,e,i,s={}){!function Mr(n,e,i,s={}){n.host=`${e}:${i}`,n._protocol="http";const{mockUserToken:u}=s;u&&(n._overrideAuthToken="string"==typeof u?u:(0,F.Sg)(u,n.app.options.projectId))}(n,e,i,s)}(this._delegate,e,i,s)}}function zt(n){return/^[A-Za-z]+:\/\//.test(n)}function Vr(n,{instanceIdentifier:e}){const i=n.getProvider("app-compat").getImmediate(),s=n.getProvider("storage").getImmediate({identifier:e});return new $t(i,s)}!function Yr(n){const e={TaskState:ne,TaskEvent:gr,StringFormat:ie,Storage:$t,Reference:fe};n.INTERNAL.registerComponent(new N.wA("storage-compat",Vr,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.13")}(B.Z);var Jr=y(440);function Wt(n){const e=function Qr(n){return new c.y(e=>{const i=d=>e.next(d);i(n.snapshot);const h=n.on("state_changed",i);return n.then(d=>{i(d),e.complete()},d=>{i(n.snapshot),(d=>{e.error(d)})(d)}),function(){h()}}).pipe((0,M.b)(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,A.U)(i=>i.bytesTransferred/i.totalBytes*100))}}function je(n){return{getDownloadURL:()=>(0,C.of)(void 0).pipe(x.fc,(0,H.w)(()=>n.getDownloadURL()),x.iC),getMetadata:()=>(0,C.of)(void 0).pipe(x.fc,(0,H.w)(()=>n.getMetadata()),x.iC),delete:()=>(0,R.D)(n.delete()),child:e=>je(n.child(e)),updateMetadata:e=>(0,R.D)(n.updateMetadata(e)),put:(e,i)=>Wt(n.put(e,i)),putString:(e,i,s)=>Wt(n.putString(e,i,s)),list:e=>(0,R.D)(n.list(e)),listAll:()=>(0,R.D)(n.listAll())}}y(127);const en=new m.OlP("angularfire2.storageBucket"),tn=new m.OlP("angularfire2.storage.maxUploadRetryTime"),rn=new m.OlP("angularfire2.storage.maxOperationRetryTime"),nn=new m.OlP("angularfire2.storage.use-emulator");let on=(()=>{class n{constructor(i,s,u,h,d,_,g,b,T,W){const $=(0,E.on)(i,d,s);this.storage=(0,E.cc)(`${$.name}.storage.${u}`,"AngularFireStorage",$.name,()=>{const Z=d.runOutsideAngular(()=>$.storage(u||void 0)),K=T;return K&&Z.useEmulator(...K),g&&Z.setMaxUploadRetryTime(g),b&&Z.setMaxOperationRetryTime(b),Z},[g,b])}ref(i){return je(this.storage.ref(i))}refFromURL(i){return je(this.storage.refFromURL(i))}upload(i,s,u){return je(this.storage.ref(i)).put(s,u)}}return n.\u0275fac=function(i){return new(i||n)(m.LFG(E.Dh),m.LFG(E.xv,8),m.LFG(en,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(x.HU),m.LFG(tn,8),m.LFG(rn,8),m.LFG(nn,8),m.LFG(Jr.nm,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var sn=y(529);function dt(){return(dt=(0,w.Z)(function*(n){let e=yield crypto.subtle.digest("SHA-256",n);return new Uint8Array(e).reduce((i,s)=>i+String.fromCharCode(s),"")})).apply(this,arguments)}function ft(){return(ft=(0,w.Z)(function*(n){const e=new FileReader;return new Promise((i,s)=>{e.onloadend=u=>{i(u.target?.result)},e.onerror=s,e.readAsArrayBuffer(n)})})).apply(this,arguments)}let hn=(()=>{class n{constructor(i,s,u){this.db=i,this.storage=s,this.httpClient=u,this.cached=new Map}loadModel(i,s){var u=this;return(0,w.Z)(function*(){let h=u.cached.get(i),d=yield u.loadInfo(i);if(console.log(d,h),void 0===d?.hash){let _=yield s.run("instance.save()");yield u.saveFirstVersion(i,_),d=yield u.loadInfo(i)}if(yield s.run("instance.should_load()",{hash:d.hash})){console.log("Loading model");let _=yield u.loadModelData(i,d);yield s.run("instance.load()",{version:d.version,hash:d.hash,params:_.params})}else console.log("Skipped loading model")})()}saveFirstVersion(i,s){var u=this;return(0,w.Z)(function*(){let h=yield u.saveModelData(i,{params:s.params});yield u.saveModelInfo(i,{version:1,hash:h})})()}saveModelChanges(i,s,u){var h=this;return(0,w.Z)(function*(){const d=(0,U.$)(u.params,s.params).map(T=>T[0]-T[1]);let _=yield h.loadInfo(i),g=yield h.loadModelData(i,_);if(null===g)throw new Error;let b=(0,U.$)(g.params,d).map(T=>T[0]+T[1]);_.version+=u.version-s.version,_.hash=yield h.saveModelData(i,{params:b}),yield h.saveModelInfo(i,_)})()}loadInfo(i){var s=this;return(0,w.Z)(function*(){const u=n.createModelPath(i);return(0,D.z)(s.db.object(u).snapshotChanges().pipe((0,A.U)(h=>h.payload.val())))})()}saveModelInfo(i,s){var u=this;return(0,w.Z)(function*(){const h=n.createModelPath(i);yield u.db.object(h).set(s)})()}loadModelData(i,s){var u=this;return(0,w.Z)(function*(){if(void 0===s.hash)return null;let h=u.cached.get(i);if(void 0!==h&&h.hash===s.hash)return console.log("Loaded from dict cache"),{params:h.params};console.log("Loading from server");let d=yield(0,D.z)(u.storage.ref(n.createModelFile(i)).getDownloadURL()),_=yield(0,D.z)(u.httpClient.get(d,{responseType:"blob"})),g=yield function cn(n){return ft.apply(this,arguments)}(_),b=function un(n){return Array.from(new Float32Array(new Uint8Array(n).buffer))}(g);return u.cached.set(i,{hash:s.hash,params:b}),{params:b}})()}saveModelData(i,s){var u=this;return(0,w.Z)(function*(){let h=function an(n){return v.lW.from(new Uint8Array(new Float32Array(n).buffer).buffer)}(s.params),d=yield function ln(n){return dt.apply(this,arguments)}(h);return yield u.storage.ref(n.createModelFile(i)).put(h),u.cached.set(i,{params:s.params,hash:d}),d})()}static createModelPath(i){return"/models/"+i}static createModelFile(i){return"/models/"+i+".dat"}}return n.\u0275fac=function(i){return new(i||n)(m.LFG(k.KQ),m.LFG(on),m.LFG(sn.eN))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},1625:(ye,q,y)=>{"use strict";y.d(q,{J:()=>U});var w=y(529),D=y(2340),A=y(4650);let U=(()=>{class v extends w.eN{constructor(){super(...arguments),this.baseUrl=D.N.baseUrl}get(k,c){return super.get(this.baseUrl+"/assets/"+k,c)}}return v.\u0275fac=function(){let m;return function(c){return(m||(m=A.n5z(v)))(c||v)}}(),v.\u0275prov=A.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},1702:(ye,q,y)=>{"use strict";y.d(q,{Z:()=>v});var w=y(5861),D=y(3905),A=y(4650),U=y(1625);let v=(()=>{class m{constructor(c){this.assetsClient=c,this.worker=this.initWorker()}loadScript(c,C={}){var R=this;return(0,w.Z)(function*(){if(c===R.loaded)return;let M=yield R.worker,x={action:"select",code:yield R.getCode(c),params:C};yield R.waitWorker(M,x),console.log(c+" loaded"),R.loaded=c})()}run(c,C={},R){var M=this;return(0,w.Z)(function*(){let H={action:"run",expression:c,params:C},x=yield M.worker;return yield new Promise((E,B)=>{x.postMessage(H),x.addEventListener("error",I=>{console.error(I),R?.(I.message,!0),B(I.error)}),x.addEventListener("message",I=>{let F=I.data;"output"===F.action?(console.log(F.content),R?.(F.content,F.isError)):"result"===F.action&&(E(F.content),x.removeAllListeners?.())})})})()}initWorker(){var c=this;return(0,w.Z)(function*(){if(typeof Worker>"u")throw TypeError("Workers are not supported in your system");let C=new Worker(y.tu(new URL(y.p+y.u(850),y.b))),H={action:"init",libsArchives:yield c.loadLibsArchives("python/codebase-0.0.1-py3-none-any"),libs:["numpy"]};return yield c.waitWorker(C,H),C})()}loadLibsArchives(...c){var C=this;return(0,w.Z)(function*(){let R=[];for(let M of c)R.push(yield(0,D.z)(C.assetsClient.get(M+".whl",{responseType:"arraybuffer"})));return R})()}waitWorker(c,C){return(0,w.Z)(function*(){return new Promise((R,M)=>{c.postMessage(C),c.addEventListener("error",M),c.addEventListener("message",H=>R(H.data))})})()}getCode(c){var C=this;return(0,w.Z)(function*(){return(0,D.z)(C.assetsClient.get(`python/${c}.py`,{responseType:"text"}))})()}}return m.\u0275fac=function(c){return new(c||m)(A.LFG(U.J))},m.\u0275prov=A.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},7225:(ye,q,y)=>{"use strict";function w(A,U){if(A.length!==U.length)throw RangeError("Arrays must have the same length: "+A.length+":"+U.length);const v=[];for(let m=0;m<A.length;m++)v[m]=[A[m],U[m]];return v}function D(A){let U="",v=new Uint8Array(A);for(let m of v)U+=String.fromCharCode(m);return U}y.d(q,{$:()=>w,l:()=>D})},5343:(ye,q)=>{"use strict";q.byteLength=function k(x){var E=m(x),I=E[1];return 3*(E[0]+I)/4-I},q.toByteArray=function C(x){var E,ee,B=m(x),I=B[0],F=B[1],N=new D(function c(x,E,B){return 3*(E+B)/4-B}(0,I,F)),J=0,ae=F>0?I-4:I;for(ee=0;ee<ae;ee+=4)E=w[x.charCodeAt(ee)]<<18|w[x.charCodeAt(ee+1)]<<12|w[x.charCodeAt(ee+2)]<<6|w[x.charCodeAt(ee+3)],N[J++]=E>>16&255,N[J++]=E>>8&255,N[J++]=255&E;return 2===F&&(E=w[x.charCodeAt(ee)]<<2|w[x.charCodeAt(ee+1)]>>4,N[J++]=255&E),1===F&&(E=w[x.charCodeAt(ee)]<<10|w[x.charCodeAt(ee+1)]<<4|w[x.charCodeAt(ee+2)]>>2,N[J++]=E>>8&255,N[J++]=255&E),N},q.fromByteArray=function H(x){for(var E,B=x.length,I=B%3,F=[],N=16383,J=0,ae=B-I;J<ae;J+=N)F.push(M(x,J,J+N>ae?ae:J+N));return 1===I?F.push(y[(E=x[B-1])>>2]+y[E<<4&63]+"=="):2===I&&F.push(y[(E=(x[B-2]<<8)+x[B-1])>>10]+y[E>>4&63]+y[E<<2&63]+"="),F.join("")};for(var y=[],w=[],D=typeof Uint8Array<"u"?Uint8Array:Array,A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U=0,v=A.length;U<v;++U)y[U]=A[U],w[A.charCodeAt(U)]=U;function m(x){var E=x.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var B=x.indexOf("=");return-1===B&&(B=E),[B,B===E?0:4-B%4]}function R(x){return y[x>>18&63]+y[x>>12&63]+y[x>>6&63]+y[63&x]}function M(x,E,B){for(var F=[],N=E;N<B;N+=3)F.push(R((x[N]<<16&16711680)+(x[N+1]<<8&65280)+(255&x[N+2])));return F.join("")}w["-".charCodeAt(0)]=62,w["_".charCodeAt(0)]=63},3172:(ye,q,y)=>{"use strict";var D=y(5343),A=y(8461),U="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;q.lW=c,q.h2=50;var v=2147483647;function k(o){if(o>v)throw new RangeError('The value "'+o+'" is invalid for option "size"');var t=new Uint8Array(o);return Object.setPrototypeOf(t,c.prototype),t}function c(o,t,r){if("number"==typeof o){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return H(o)}return C(o,t,r)}function C(o,t,r){if("string"==typeof o)return function x(o,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|ae(o,t),a=k(r),l=a.write(o,t);return l!==r&&(a=a.slice(0,l)),a}(o,t);if(ArrayBuffer.isView(o))return function B(o){if(oe(o,Uint8Array)){var t=new Uint8Array(o);return I(t.buffer,t.byteOffset,t.byteLength)}return E(o)}(o);if(null==o)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o);if(oe(o,ArrayBuffer)||o&&oe(o.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(oe(o,SharedArrayBuffer)||o&&oe(o.buffer,SharedArrayBuffer)))return I(o,t,r);if("number"==typeof o)throw new TypeError('The "value" argument must not be of type number. Received type number');var a=o.valueOf&&o.valueOf();if(null!=a&&a!==o)return c.from(a,t,r);var l=function F(o){if(c.isBuffer(o)){var t=0|N(o.length),r=k(t);return 0===r.length||o.copy(r,0,0,t),r}return void 0!==o.length?"number"!=typeof o.length||_e(o.length)?k(0):E(o):"Buffer"===o.type&&Array.isArray(o.data)?E(o.data):void 0}(o);if(l)return l;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof o[Symbol.toPrimitive])return c.from(o[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o)}function R(o){if("number"!=typeof o)throw new TypeError('"size" argument must be of type number');if(o<0)throw new RangeError('The value "'+o+'" is invalid for option "size"')}function H(o){return R(o),k(o<0?0:0|N(o))}function E(o){for(var t=o.length<0?0:0|N(o.length),r=k(t),a=0;a<t;a+=1)r[a]=255&o[a];return r}function I(o,t,r){if(t<0||o.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(o.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var a;return a=void 0===t&&void 0===r?new Uint8Array(o):void 0===r?new Uint8Array(o,t):new Uint8Array(o,t,r),Object.setPrototypeOf(a,c.prototype),a}function N(o){if(o>=v)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+v.toString(16)+" bytes");return 0|o}function ae(o,t){if(c.isBuffer(o))return o.length;if(ArrayBuffer.isView(o)||oe(o,ArrayBuffer))return o.byteLength;if("string"!=typeof o)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof o);var r=o.length,a=arguments.length>2&&!0===arguments[2];if(!a&&0===r)return 0;for(var l=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Ie(o).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Oe(o).length;default:if(l)return a?-1:Ie(o).length;t=(""+t).toLowerCase(),l=!0}}function ee(o,t,r){var a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(o||(o="utf8");;)switch(o){case"hex":return De(this,t,r);case"utf8":case"utf-8":return Le(this,t,r);case"ascii":return Qe(this,t,r);case"latin1":case"binary":return et(this,t,r);case"base64":return Ye(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tt(this,t,r);default:if(a)throw new TypeError("Unknown encoding: "+o);o=(o+"").toLowerCase(),a=!0}}function de(o,t,r){var a=o[t];o[t]=o[r],o[r]=a}function O(o,t,r,a,l){if(0===o.length)return-1;if("string"==typeof r?(a=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),_e(r=+r)&&(r=l?0:o.length-1),r<0&&(r=o.length+r),r>=o.length){if(l)return-1;r=o.length-1}else if(r<0){if(!l)return-1;r=0}if("string"==typeof t&&(t=c.from(t,a)),c.isBuffer(t))return 0===t.length?-1:Re(o,t,r,a,l);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?l?Uint8Array.prototype.indexOf.call(o,t,r):Uint8Array.prototype.lastIndexOf.call(o,t,r):Re(o,[t],r,a,l);throw new TypeError("val must be string, number or Buffer")}function Re(o,t,r,a,l){var L,f=1,p=o.length,S=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(o.length<2||t.length<2)return-1;f=2,p/=2,S/=2,r/=2}function P(Ge,He){return 1===f?Ge[He]:Ge.readUInt16BE(He*f)}if(l){var Y=-1;for(L=r;L<p;L++)if(P(o,L)===P(t,-1===Y?0:L-Y)){if(-1===Y&&(Y=L),L-Y+1===S)return Y*f}else-1!==Y&&(L-=L-Y),Y=-1}else for(r+S>p&&(r=p-S),L=r;L>=0;L--){for(var G=!0,be=0;be<S;be++)if(P(o,L+be)!==P(t,be)){G=!1;break}if(G)return L}return-1}function Se(o,t,r,a){r=Number(r)||0;var l=o.length-r;a?(a=Number(a))>l&&(a=l):a=l;var f=t.length;a>f/2&&(a=f/2);for(var p=0;p<a;++p){var S=parseInt(t.substr(2*p,2),16);if(_e(S))return p;o[r+p]=S}return p}function Xe(o,t,r,a){return Ee(Ie(t,o.length-r),o,r,a)}function Ze(o,t,r,a){return Ee(function rt(o){for(var t=[],r=0;r<o.length;++r)t.push(255&o.charCodeAt(r));return t}(t),o,r,a)}function Ke(o,t,r,a){return Ee(Oe(t),o,r,a)}function Ve(o,t,r,a){return Ee(function nt(o,t){for(var r,a,f=[],p=0;p<o.length&&!((t-=2)<0);++p)a=(r=o.charCodeAt(p))>>8,f.push(r%256),f.push(a);return f}(t,o.length-r),o,r,a)}function Ye(o,t,r){return D.fromByteArray(0===t&&r===o.length?o:o.slice(t,r))}function Le(o,t,r){r=Math.min(o.length,r);for(var a=[],l=t;l<r;){var P,L,Y,G,f=o[l],p=null,S=f>239?4:f>223?3:f>191?2:1;if(l+S<=r)switch(S){case 1:f<128&&(p=f);break;case 2:128==(192&(P=o[l+1]))&&(G=(31&f)<<6|63&P)>127&&(p=G);break;case 3:L=o[l+2],128==(192&(P=o[l+1]))&&128==(192&L)&&(G=(15&f)<<12|(63&P)<<6|63&L)>2047&&(G<55296||G>57343)&&(p=G);break;case 4:L=o[l+2],Y=o[l+3],128==(192&(P=o[l+1]))&&128==(192&L)&&128==(192&Y)&&(G=(15&f)<<18|(63&P)<<12|(63&L)<<6|63&Y)>65535&&G<1114112&&(p=G)}null===p?(p=65533,S=1):p>65535&&(a.push((p-=65536)>>>10&1023|55296),p=56320|1023&p),a.push(p),l+=S}return function Je(o){var t=o.length;if(t<=4096)return String.fromCharCode.apply(String,o);for(var r="",a=0;a<t;)r+=String.fromCharCode.apply(String,o.slice(a,a+=4096));return r}(a)}function Qe(o,t,r){var a="";r=Math.min(o.length,r);for(var l=t;l<r;++l)a+=String.fromCharCode(127&o[l]);return a}function et(o,t,r){var a="";r=Math.min(o.length,r);for(var l=t;l<r;++l)a+=String.fromCharCode(o[l]);return a}function De(o,t,r){var a=o.length;(!t||t<0)&&(t=0),(!r||r<0||r>a)&&(r=a);for(var l="",f=t;f<r;++f)l+=Ne[o[f]];return l}function tt(o,t,r){for(var a=o.slice(t,r),l="",f=0;f<a.length-1;f+=2)l+=String.fromCharCode(a[f]+256*a[f+1]);return l}function j(o,t,r){if(o%1!=0||o<0)throw new RangeError("offset is not uint");if(o+t>r)throw new RangeError("Trying to access beyond buffer length")}function z(o,t,r,a,l,f){if(!c.isBuffer(o))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>l||t<f)throw new RangeError('"value" argument is out of bounds');if(r+a>o.length)throw new RangeError("Index out of range")}function Fe(o,t,r,a,l,f){if(r+a>o.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Ce(o,t,r,a,l){return t=+t,r>>>=0,l||Fe(o,0,r,4),A.write(o,t,r,a,23,4),r+4}function me(o,t,r,a,l){return t=+t,r>>>=0,l||Fe(o,0,r,8),A.write(o,t,r,a,52,8),r+8}!(c.TYPED_ARRAY_SUPPORT=function m(){try{var o=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(o,t),42===o.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(o,t,r){return C(o,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(o,t,r){return function M(o,t,r){return R(o),o<=0?k(o):void 0!==t?"string"==typeof r?k(o).fill(t,r):k(o).fill(t):k(o)}(o,t,r)},c.allocUnsafe=function(o){return H(o)},c.allocUnsafeSlow=function(o){return H(o)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,r){if(oe(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),oe(r,Uint8Array)&&(r=c.from(r,r.offset,r.byteLength)),!c.isBuffer(t)||!c.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;for(var a=t.length,l=r.length,f=0,p=Math.min(a,l);f<p;++f)if(t[f]!==r[f]){a=t[f],l=r[f];break}return a<l?-1:l<a?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var a;if(void 0===r)for(r=0,a=0;a<t.length;++a)r+=t[a].length;var l=c.allocUnsafe(r),f=0;for(a=0;a<t.length;++a){var p=t[a];if(oe(p,Uint8Array))f+p.length>l.length?c.from(p).copy(l,f):Uint8Array.prototype.set.call(l,p,f);else{if(!c.isBuffer(p))throw new TypeError('"list" argument must be an Array of Buffers');p.copy(l,f)}f+=p.length}return l},c.byteLength=ae,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)de(this,r,r+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)de(this,r,r+3),de(this,r+1,r+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)de(this,r,r+7),de(this,r+1,r+6),de(this,r+2,r+5),de(this,r+3,r+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?Le(this,0,t):ee.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",r=q.h2;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},U&&(c.prototype[U]=c.prototype.inspect),c.prototype.compare=function(t,r,a,l,f){if(oe(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===r&&(r=0),void 0===a&&(a=t?t.length:0),void 0===l&&(l=0),void 0===f&&(f=this.length),r<0||a>t.length||l<0||f>this.length)throw new RangeError("out of range index");if(l>=f&&r>=a)return 0;if(l>=f)return-1;if(r>=a)return 1;if(this===t)return 0;for(var p=(f>>>=0)-(l>>>=0),S=(a>>>=0)-(r>>>=0),P=Math.min(p,S),L=this.slice(l,f),Y=t.slice(r,a),G=0;G<P;++G)if(L[G]!==Y[G]){p=L[G],S=Y[G];break}return p<S?-1:S<p?1:0},c.prototype.includes=function(t,r,a){return-1!==this.indexOf(t,r,a)},c.prototype.indexOf=function(t,r,a){return O(this,t,r,a,!0)},c.prototype.lastIndexOf=function(t,r,a){return O(this,t,r,a,!1)},c.prototype.write=function(t,r,a,l){if(void 0===r)l="utf8",a=this.length,r=0;else if(void 0===a&&"string"==typeof r)l=r,a=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r>>>=0,isFinite(a)?(a>>>=0,void 0===l&&(l="utf8")):(l=a,a=void 0)}var f=this.length-r;if((void 0===a||a>f)&&(a=f),t.length>0&&(a<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");l||(l="utf8");for(var p=!1;;)switch(l){case"hex":return Se(this,t,r,a);case"utf8":case"utf-8":return Xe(this,t,r,a);case"ascii":case"latin1":case"binary":return Ze(this,t,r,a);case"base64":return Ke(this,t,r,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ve(this,t,r,a);default:if(p)throw new TypeError("Unknown encoding: "+l);l=(""+l).toLowerCase(),p=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},c.prototype.slice=function(t,r){var a=this.length;(t=~~t)<0?(t+=a)<0&&(t=0):t>a&&(t=a),(r=void 0===r?a:~~r)<0?(r+=a)<0&&(r=0):r>a&&(r=a),r<t&&(r=t);var l=this.subarray(t,r);return Object.setPrototypeOf(l,c.prototype),l},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,r,a){t>>>=0,r>>>=0,a||j(t,r,this.length);for(var l=this[t],f=1,p=0;++p<r&&(f*=256);)l+=this[t+p]*f;return l},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,r,a){t>>>=0,r>>>=0,a||j(t,r,this.length);for(var l=this[t+--r],f=1;r>0&&(f*=256);)l+=this[t+--r]*f;return l},c.prototype.readUint8=c.prototype.readUInt8=function(t,r){return t>>>=0,r||j(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,r){return t>>>=0,r||j(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,r){return t>>>=0,r||j(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,r){return t>>>=0,r||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,r){return t>>>=0,r||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,r,a){t>>>=0,r>>>=0,a||j(t,r,this.length);for(var l=this[t],f=1,p=0;++p<r&&(f*=256);)l+=this[t+p]*f;return l>=(f*=128)&&(l-=Math.pow(2,8*r)),l},c.prototype.readIntBE=function(t,r,a){t>>>=0,r>>>=0,a||j(t,r,this.length);for(var l=r,f=1,p=this[t+--l];l>0&&(f*=256);)p+=this[t+--l]*f;return p>=(f*=128)&&(p-=Math.pow(2,8*r)),p},c.prototype.readInt8=function(t,r){return t>>>=0,r||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,r){t>>>=0,r||j(t,2,this.length);var a=this[t]|this[t+1]<<8;return 32768&a?4294901760|a:a},c.prototype.readInt16BE=function(t,r){t>>>=0,r||j(t,2,this.length);var a=this[t+1]|this[t]<<8;return 32768&a?4294901760|a:a},c.prototype.readInt32LE=function(t,r){return t>>>=0,r||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,r){return t>>>=0,r||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,r){return t>>>=0,r||j(t,4,this.length),A.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,r){return t>>>=0,r||j(t,4,this.length),A.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,r){return t>>>=0,r||j(t,8,this.length),A.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,r){return t>>>=0,r||j(t,8,this.length),A.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,r,a,l){t=+t,r>>>=0,a>>>=0,l||z(this,t,r,a,Math.pow(2,8*a)-1,0);var p=1,S=0;for(this[r]=255&t;++S<a&&(p*=256);)this[r+S]=t/p&255;return r+a},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,r,a,l){t=+t,r>>>=0,a>>>=0,l||z(this,t,r,a,Math.pow(2,8*a)-1,0);var p=a-1,S=1;for(this[r+p]=255&t;--p>=0&&(S*=256);)this[r+p]=t/S&255;return r+a},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,r,a){return t=+t,r>>>=0,a||z(this,t,r,1,255,0),this[r]=255&t,r+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,r,a){return t=+t,r>>>=0,a||z(this,t,r,2,65535,0),this[r]=255&t,this[r+1]=t>>>8,r+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,r,a){return t=+t,r>>>=0,a||z(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=255&t,r+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,r,a){return t=+t,r>>>=0,a||z(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t,r+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,r,a){return t=+t,r>>>=0,a||z(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t,r+4},c.prototype.writeIntLE=function(t,r,a,l){if(t=+t,r>>>=0,!l){var f=Math.pow(2,8*a-1);z(this,t,r,a,f-1,-f)}var p=0,S=1,P=0;for(this[r]=255&t;++p<a&&(S*=256);)t<0&&0===P&&0!==this[r+p-1]&&(P=1),this[r+p]=(t/S>>0)-P&255;return r+a},c.prototype.writeIntBE=function(t,r,a,l){if(t=+t,r>>>=0,!l){var f=Math.pow(2,8*a-1);z(this,t,r,a,f-1,-f)}var p=a-1,S=1,P=0;for(this[r+p]=255&t;--p>=0&&(S*=256);)t<0&&0===P&&0!==this[r+p+1]&&(P=1),this[r+p]=(t/S>>0)-P&255;return r+a},c.prototype.writeInt8=function(t,r,a){return t=+t,r>>>=0,a||z(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=255&t,r+1},c.prototype.writeInt16LE=function(t,r,a){return t=+t,r>>>=0,a||z(this,t,r,2,32767,-32768),this[r]=255&t,this[r+1]=t>>>8,r+2},c.prototype.writeInt16BE=function(t,r,a){return t=+t,r>>>=0,a||z(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=255&t,r+2},c.prototype.writeInt32LE=function(t,r,a){return t=+t,r>>>=0,a||z(this,t,r,4,2147483647,-2147483648),this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4},c.prototype.writeInt32BE=function(t,r,a){return t=+t,r>>>=0,a||z(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t,r+4},c.prototype.writeFloatLE=function(t,r,a){return Ce(this,t,r,!0,a)},c.prototype.writeFloatBE=function(t,r,a){return Ce(this,t,r,!1,a)},c.prototype.writeDoubleLE=function(t,r,a){return me(this,t,r,!0,a)},c.prototype.writeDoubleBE=function(t,r,a){return me(this,t,r,!1,a)},c.prototype.copy=function(t,r,a,l){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(a||(a=0),!l&&0!==l&&(l=this.length),r>=t.length&&(r=t.length),r||(r=0),l>0&&l<a&&(l=a),l===a||0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("sourceEnd out of bounds");l>this.length&&(l=this.length),t.length-r<l-a&&(l=t.length-r+a);var f=l-a;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(r,a,l):Uint8Array.prototype.set.call(t,this.subarray(a,l),r),f},c.prototype.fill=function(t,r,a,l){if("string"==typeof t){if("string"==typeof r?(l=r,r=0,a=this.length):"string"==typeof a&&(l=a,a=this.length),void 0!==l&&"string"!=typeof l)throw new TypeError("encoding must be a string");if("string"==typeof l&&!c.isEncoding(l))throw new TypeError("Unknown encoding: "+l);if(1===t.length){var f=t.charCodeAt(0);("utf8"===l&&f<128||"latin1"===l)&&(t=f)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(r<0||this.length<r||this.length<a)throw new RangeError("Out of range index");if(a<=r)return this;var p;if(r>>>=0,a=void 0===a?this.length:a>>>0,t||(t=0),"number"==typeof t)for(p=r;p<a;++p)this[p]=t;else{var S=c.isBuffer(t)?t:c.from(t,l),P=S.length;if(0===P)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(p=0;p<a-r;++p)this[p+r]=S[p%P]}return this};var we=/[^+/0-9A-Za-z-_]/g;function Ie(o,t){t=t||1/0;for(var r,a=o.length,l=null,f=[],p=0;p<a;++p){if((r=o.charCodeAt(p))>55295&&r<57344){if(!l){if(r>56319){(t-=3)>-1&&f.push(239,191,189);continue}if(p+1===a){(t-=3)>-1&&f.push(239,191,189);continue}l=r;continue}if(r<56320){(t-=3)>-1&&f.push(239,191,189),l=r;continue}r=65536+(l-55296<<10|r-56320)}else l&&(t-=3)>-1&&f.push(239,191,189);if(l=null,r<128){if((t-=1)<0)break;f.push(r)}else if(r<2048){if((t-=2)<0)break;f.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;f.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;f.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return f}function Oe(o){return D.toByteArray(function V(o){if((o=(o=o.split("=")[0]).trim().replace(we,"")).length<2)return"";for(;o.length%4!=0;)o+="=";return o}(o))}function Ee(o,t,r,a){for(var l=0;l<a&&!(l+r>=t.length||l>=o.length);++l)t[l+r]=o[l];return l}function oe(o,t){return o instanceof t||null!=o&&null!=o.constructor&&null!=o.constructor.name&&o.constructor.name===t.name}function _e(o){return o!=o}var Ne=function(){for(var o="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var a=16*r,l=0;l<16;++l)t[a+l]=o[r]+o[l];return t}()},8461:(ye,q)=>{q.read=function(y,w,D,A,U){var v,m,k=8*U-A-1,c=(1<<k)-1,C=c>>1,R=-7,M=D?U-1:0,H=D?-1:1,x=y[w+M];for(M+=H,v=x&(1<<-R)-1,x>>=-R,R+=k;R>0;v=256*v+y[w+M],M+=H,R-=8);for(m=v&(1<<-R)-1,v>>=-R,R+=A;R>0;m=256*m+y[w+M],M+=H,R-=8);if(0===v)v=1-C;else{if(v===c)return m?NaN:1/0*(x?-1:1);m+=Math.pow(2,A),v-=C}return(x?-1:1)*m*Math.pow(2,v-A)},q.write=function(y,w,D,A,U,v){var m,k,c,C=8*v-U-1,R=(1<<C)-1,M=R>>1,H=23===U?Math.pow(2,-24)-Math.pow(2,-77):0,x=A?0:v-1,E=A?1:-1,B=w<0||0===w&&1/w<0?1:0;for(w=Math.abs(w),isNaN(w)||w===1/0?(k=isNaN(w)?1:0,m=R):(m=Math.floor(Math.log(w)/Math.LN2),w*(c=Math.pow(2,-m))<1&&(m--,c*=2),(w+=m+M>=1?H/c:H*Math.pow(2,1-M))*c>=2&&(m++,c/=2),m+M>=R?(k=0,m=R):m+M>=1?(k=(w*c-1)*Math.pow(2,U),m+=M):(k=w*Math.pow(2,M-1)*Math.pow(2,U),m=0));U>=8;y[D+x]=255&k,x+=E,k/=256,U-=8);for(m=m<<U|k,C+=U;C>0;y[D+x]=255&m,x+=E,m/=256,C-=8);y[D+x-E]|=128*B}},3905:(ye,q,y)=>{"use strict";y.d(q,{z:()=>A});var w=y(6805),D=y(930);function A(U,v){const m="object"==typeof v;return new Promise((k,c)=>{const C=new D.Hp({next:R=>{k(R),C.unsubscribe()},error:c,complete:()=>{m?k(v.defaultValue):c(new w.K)}});U.subscribe(C)})}}}]);