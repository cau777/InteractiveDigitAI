(self.webpackChunkAIPlayground=self.webpackChunkAIPlayground||[]).push([[702],{3917:(xe,Y,w)=>{"use strict";w.d(Y,{f:()=>hn});var x=w(5861),N=w(3905),F=w(4004),T=w(7225),k=w(3172),y=w(4650),B=w(4333),h=w(8306),j=w(9646),S=w(8996),$=w(8372),v=w(3900),m=w(5813),R=w(2011),U=w(3942),C=w(9681),I=w(2090),M=w(3475);const Z="firebasestorage.googleapis.com",ee="storageBucket";class D extends I.ZR{constructor(e,i){super(Re(e),`Firebase Storage: ${i} (${Re(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,D.prototype)}_codeEquals(e){return Re(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Re(n){return"storage/"+n}function ke(){return new D("unknown","An unknown error occurred, please check the error payload for server response.")}function Se(){return new D("canceled","User canceled the upload/download.")}function De(){return new D("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function W(n){return new D("invalid-argument",n)}function Fe(){return new D("app-deleted","The Firebase app was deleted.")}function Ce(n){return new D("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function me(n,e){return new D("invalid-format","String does not match format '"+n+"': "+e)}function ye(n){throw new D("internal-error","Internal error: "+n)}class J{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let s;try{s=J.makeFromUrl(e,i)}catch{return new J(e,"")}if(""===s.path)return s;throw function Qe(n){return new D("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,i){let s=null;const u="([A-Za-z0-9.\\-_]+)",_=new RegExp("^gs://"+u+"(/(.*))?$","i");function E(te){te.path_=decodeURIComponent(te.path)}const z=i.replace(/[.]/g,"\\."),re=[{regex:_,indices:{bucket:1,path:3},postModify:function c(te){"/"===te.path.charAt(te.path.length-1)&&(te.path_=te.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${z}/v[A-Za-z0-9_]+/b/${u}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:E},{regex:new RegExp(`^https?://${i===Z?"(?:storage.googleapis.com|storage.cloud.google.com)":i}/${u}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:E}];for(let te=0;te<re.length;te++){const Ue=re[te],Ae=Ue.regex.exec(e);if(Ae){let Me=Ae[Ue.indices.path];Me||(Me=""),s=new J(Ae[Ue.indices.bucket],Me),Ue.postModify(s);break}}if(null==s)throw function Je(n){return new D("invalid-url","Invalid URL '"+n+"'.")}(e);return s}}class Ie{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function _e(n){return"string"==typeof n||n instanceof String}function Ne(n){return o()&&n instanceof Blob}function o(){return typeof Blob<"u"}function t(n,e,i,s){if(s<e)throw W(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>i)throw W(`Invalid value for '${n}'. Expected ${i} or less.`)}function r(n,e,i){let s=e;return null==i&&(s=`https://${e}`),`${i}://${s}/v0${n}`}function a(n){const e=encodeURIComponent;let i="?";for(const s in n)n.hasOwnProperty(s)&&(i=i+(e(s)+"=")+e(n[s])+"&");return i=i.slice(0,-1),i}var l=(()=>{return(n=l||(l={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",l;var n})();class f{constructor(e,i,s,u,c,d,_,g,E,b,z){this.url_=e,this.method_=i,this.headers_=s,this.body_=u,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=_,this.errorCallback_=g,this.timeout_=E,this.progressCallback_=b,this.connectionFactory_=z,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,K)=>{this.resolve_=H,this.reject_=K,this.start_()})}start_(){const i=(s,u)=>{const c=this.resolve_,d=this.reject_,_=u.connection;if(u.wasSuccessCode)try{const g=this.callback_(_,_.getResponse());!function Oe(n){return void 0!==n}(g)?c():c(g)}catch(g){d(g)}else if(null!==_){const g=ke();g.serverResponse=_.getErrorText(),d(this.errorCallback_?this.errorCallback_(_,g):g)}else d(u.canceled?this.appDelete_?Fe():Se():function Le(){return new D("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?i(0,new p(!1,null,!0)):this.backoffId_=function rt(n,e,i){let s=1,u=null,c=null,d=!1,_=0;function g(){return 2===_}let E=!1;function b(...X){E||(E=!0,e.apply(null,X))}function z(X){u=setTimeout(()=>{u=null,n(K,g())},X)}function H(){c&&clearTimeout(c)}function K(X,...pe){if(E)return void H();if(X)return H(),void b.call(null,X,...pe);if(g()||d)return H(),void b.call(null,X,...pe);let re;s<64&&(s*=2),1===_?(_=2,re=0):re=1e3*(s+Math.random()),z(re)}let V=!1;function ae(X){V||(V=!0,H(),!E&&(null!==u?(X||(_=2),clearTimeout(u),z(0)):X||(_=1)))}return z(0),c=setTimeout(()=>{d=!0,ae(!0)},i),ae}((s,u)=>{if(u)return void s(!1,new p(!1,null,!0));const c=this.connectionFactory_();this.pendingConnection_=c;const d=_=>{null!==this.progressCallback_&&this.progressCallback_(_.loaded,_.lengthComputable?_.total:-1)};null!==this.progressCallback_&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const _=c.getErrorCode()===l.NO_ERROR,g=c.getStatus();if(!_||this.isRetryStatusCode_(g)){const b=c.getErrorCode()===l.ABORT;return void s(!1,new p(!1,null,b))}const E=-1!==this.successCodes_.indexOf(g);s(!0,new p(E,c))})},i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function nt(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const i=e>=500&&e<600,u=-1!==[408,429].indexOf(e),c=-1!==this.additionalRetryCodes_.indexOf(e);return i||u||c}}class p{constructor(e,i,s){this.wasSuccessCode=e,this.connection=i,this.canceled=!!s}}function Ge(...n){const e=function be(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const i=new e;for(let s=0;s<n.length;s++)i.append(n[s]);return i.getBlob()}if(o())return new Blob(n);throw new D("unsupported-environment","This browser doesn't seem to support creating Blobs")}const oe={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class it{constructor(e,i){this.data=e,this.contentType=i||null}}function ot(n,e){switch(n){case oe.RAW:return new it(mt(e));case oe.BASE64:case oe.BASE64URL:return new it(_t(n,e));case oe.DATA_URL:return new it(function Xt(n){const e=new yt(n);return e.base64?_t(oe.BASE64,e.rest):function qt(n){let e;try{e=decodeURIComponent(n)}catch{throw me(oe.DATA_URL,"Malformed data URL.")}return mt(e)}(e.rest)}(e),function Zt(n){return new yt(n).contentType}(e))}throw ke()}function mt(n){const e=[];for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<=127?e.push(s):s<=2047?e.push(192|s>>6,128|63&s):55296==(64512&s)?i<n.length-1&&56320==(64512&n.charCodeAt(i+1))?(s=65536|(1023&s)<<10|1023&n.charCodeAt(++i),e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):e.push(239,191,189):56320==(64512&s)?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(e)}function _t(n,e){switch(n){case oe.BASE64:{const u=-1!==e.indexOf("-"),c=-1!==e.indexOf("_");if(u||c)throw me(n,"Invalid character '"+(u?"-":"_")+"' found: is it base64url encoded?");break}case oe.BASE64URL:{const u=-1!==e.indexOf("+"),c=-1!==e.indexOf("/");if(u||c)throw me(n,"Invalid character '"+(u?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=function jt(n){return atob(n)}(e)}catch{throw me(n,"Invalid character found")}const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}class yt{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(null===i)throw me(oe.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=i[1]||null;null!=s&&(this.base64=function Kt(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}class le{constructor(e,i){let s=0,u="";Ne(e)?(this.data_=e,s=e.size,u=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=u}size(){return this.size_}type(){return this.type_}slice(e,i){if(Ne(this.data_)){const u=function He(n,e,i){return n.webkitSlice?n.webkitSlice(e,i):n.mozSlice?n.mozSlice(e,i):n.slice?n.slice(e,i):null}(this.data_,e,i);return null===u?null:new le(u)}{const s=new Uint8Array(this.data_.buffer,e,i-e);return new le(s,!0)}}static getBlob(...e){if(o()){const i=e.map(s=>s instanceof le?s.data_:s);return new le(Ge.apply(null,i))}{const i=e.map(d=>_e(d)?ot(oe.RAW,d).data:d.data_);let s=0;i.forEach(d=>{s+=d.byteLength});const u=new Uint8Array(s);let c=0;return i.forEach(d=>{for(let _=0;_<d.length;_++)u[c++]=d[_]}),new le(u,!0)}}uploadData(){return this.data_}}function st(n){let e;try{e=JSON.parse(n)}catch{return null}return function se(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function wt(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Jt(n,e){return e}class ne{constructor(e,i,s,u){this.server=e,this.local=i||e,this.writable=!!s,this.xform=u||Jt}}let $e=null;function Be(){if($e)return $e;const n=[];n.push(new ne("bucket")),n.push(new ne("generation")),n.push(new ne("metageneration")),n.push(new ne("name","fullPath",!0));const i=new ne("name");i.xform=function e(c,d){return function Qt(n){return!_e(n)||n.length<2?n:wt(n)}(d)},n.push(i);const u=new ne("size");return u.xform=function s(c,d){return void 0!==d?Number(d):d},n.push(u),n.push(new ne("timeCreated")),n.push(new ne("updated")),n.push(new ne("md5Hash",null,!0)),n.push(new ne("cacheControl",null,!0)),n.push(new ne("contentDisposition",null,!0)),n.push(new ne("contentEncoding",null,!0)),n.push(new ne("contentLanguage",null,!0)),n.push(new ne("contentType",null,!0)),n.push(new ne("metadata","customMetadata",!0)),$e=n,$e}function xt(n,e,i){const s=st(e);return null===s?null:function tr(n,e,i){const s={type:"file"},u=i.length;for(let c=0;c<u;c++){const d=i[c];s[d.local]=d.xform(s,e[d.server])}return function er(n,e){Object.defineProperty(n,"ref",{get:function i(){const c=new J(n.bucket,n.fullPath);return e._makeStorageReference(c)}})}(s,n),s}(n,s,i)}function at(n,e){const i={},s=e.length;for(let u=0;u<s;u++){const c=e[u];c.writable&&(i[c.server]=n[c.local])}return JSON.stringify(i)}const Rt="prefixes";class ce{constructor(e,i,s,u){this.url=e,this.method=i,this.handler=s,this.timeout=u,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function he(n){if(!n)throw ke()}function We(n,e){return function i(s,u){const c=xt(n,u,e);return he(null!==c),c}}function ve(n){return function e(i,s){let u;return u=401===i.getStatus()?i.getErrorText().includes("Firebase App Check token is invalid")?function Ve(){return new D("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Ke(){return new D("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===i.getStatus()?function Ze(n){return new D("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===i.getStatus()?function Ye(n){return new D("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):s,u.serverResponse=s.serverResponse,u}}function Pe(n){const e=ve(n);return function i(s,u){let c=e(s,u);return 404===s.getStatus()&&(c=function Xe(n){return new D("object-not-found","Object '"+n+"' does not exist.")}(n.path)),c.serverResponse=u.serverResponse,c}}function bt(n,e,i){const u=r(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,_=new ce(u,"GET",We(n,i),d);return _.errorHandler=Pe(e),_}function ar(n,e,i,s,u){const c={};c.prefix=e.isRoot?"":e.path+"/",i&&i.length>0&&(c.delimiter=i),s&&(c.pageToken=s),u&&(c.maxResults=u);const _=r(e.bucketOnlyServerUrl(),n.host,n._protocol),E=n.maxOperationRetryTime,b=new ce(_,"GET",function or(n,e){return function i(s,u){const c=function ir(n,e,i){const s=st(i);return null===s?null:function nr(n,e,i){const s={prefixes:[],items:[],nextPageToken:i.nextPageToken};if(i[Rt])for(const u of i[Rt]){const c=u.replace(/\/$/,""),d=n._makeStorageReference(new J(e,c));s.prefixes.push(d)}if(i.items)for(const u of i.items){const c=n._makeStorageReference(new J(e,u.name));s.items.push(c)}return s}(n,e,s)}(n,e,u);return he(null!==c),c}}(n,e.bucket),E);return b.urlParams=c,b.errorHandler=ve(e),b}function Tt(n,e,i){const s=Object.assign({},i);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=function hr(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),s}class ze{constructor(e,i,s,u){this.current=e,this.total=i,this.finalized=!!s,this.metadata=u||null}}function ut(n,e){let i=null;try{i=n.getResponseHeader("X-Goog-Upload-Status")}catch{he(!1)}return he(!!i&&-1!==(e||["active"]).indexOf(i)),i}const gr={STATE_CHANGED:"state_changed"},ie={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function lt(n){switch(n){case"running":case"pausing":case"canceling":return ie.RUNNING;case"paused":return ie.PAUSED;case"success":return ie.SUCCESS;case"canceled":return ie.CANCELED;default:return ie.ERROR}}class mr{constructor(e,i,s){if(function Ee(n){return"function"==typeof n}(e)||null!=i||null!=s)this.next=e,this.error=i??void 0,this.complete=s??void 0;else{const c=e;this.next=c.next,this.error=c.error,this.complete=c.complete}}}function Te(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class yr extends class _r{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=l.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=l.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=l.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,s,u){if(this.sent_)throw ye("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,e,!0),void 0!==u)for(const c in u)u.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,u[c].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ye("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ye("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ye("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ye("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ue(){return new yr}class St{constructor(e,i,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=i,this._metadata=s,this._mappings=Be(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=u=>{this._request=void 0,this._chunkMultiplier=1,u._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=u,this._transition("error"))},this._metadataErrorHandler=u=>{this._request=void 0,u._codeEquals("canceled")?this.completeTransitions_():(this._error=u,this._transition("error"))},this._promise=new Promise((u,c)=>{this._resolve=u,this._reject=c,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return i=>this._updateProgress(e+i)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([i,s])=>{switch(this._state){case"running":e(i,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,i)=>{const s=function dr(n,e,i,s,u){const c=e.bucketOnlyServerUrl(),d=Tt(e,s,u),_={name:d.fullPath},g=r(c,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},z=at(d,i),V=new ce(g,"POST",function K(ae){let X;ut(ae);try{X=ae.getResponseHeader("X-Goog-Upload-URL")}catch{he(!1)}return he(_e(X)),X},n.maxUploadRetryTime);return V.urlParams=_,V.headers=b,V.body=z,V.errorHandler=ve(e),V}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),u=this._ref.storage._makeRequest(s,ue,e,i);this._request=u,u.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((i,s)=>{const u=function fr(n,e,i,s){const g=new ce(i,"POST",function c(E){const b=ut(E,["active","final"]);let z=null;try{z=E.getResponseHeader("X-Goog-Upload-Size-Received")}catch{he(!1)}z||he(!1);const H=Number(z);return he(!isNaN(H)),new ze(H,s.size(),"final"===b)},n.maxUploadRetryTime);return g.headers={"X-Goog-Upload-Command":"query"},g.errorHandler=ve(e),g}(this._ref.storage,this._ref._location,e,this._blob),c=this._ref.storage._makeRequest(u,ue,i,s);this._request=c,c.getPromise().then(d=>{d=d,this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,i=new ze(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((u,c)=>{let d;try{d=function pr(n,e,i,s,u,c,d,_){const g=new ze(0,0);if(d?(g.current=d.current,g.total=d.total):(g.current=0,g.total=s.size()),s.size()!==g.total)throw function tt(){return new D("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const E=g.total-g.current;let b=E;u>0&&(b=Math.min(b,u));const z=g.current,V={"X-Goog-Upload-Command":b===E?"upload, finalize":"upload","X-Goog-Upload-Offset":`${g.current}`},ae=s.slice(z,z+b);if(null===ae)throw De();const re=new ce(i,"POST",function X(te,Ue){const Ae=ut(te,["active","final"]),pt=g.current+b,Me=s.size();let gt;return gt="final"===Ae?We(e,c)(te,Ue):null,new ze(pt,Me,"final"===Ae,gt)},e.maxUploadRetryTime);return re.headers=V,re.body=ae.uploadData(),re.progressCallback=_||null,re.errorHandler=ve(n),re}(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,i,this._makeProgressCallback())}catch(g){return this._error=g,void this._transition("error")}const _=this._ref.storage._makeRequest(d,ue,u,c);this._request=_,_.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,i)=>{const s=bt(this._ref.storage,this._ref._location,this._mappings),u=this._ref.storage._makeRequest(s,ue,e,i);this._request=u,u.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,i)=>{const s=function Ut(n,e,i,s,u){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},g=function _(){let re="";for(let te=0;te<2;te++)re+=Math.random().toString().slice(2);return re}();d["Content-Type"]="multipart/related; boundary="+g;const E=Tt(e,s,u),b=at(E,i),K=le.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+g+"\r\nContent-Type: "+E.contentType+"\r\n\r\n",s,"\r\n--"+g+"--");if(null===K)throw De();const V={name:E.fullPath},ae=r(c,n.host,n._protocol),pe=n.maxUploadRetryTime,ge=new ce(ae,"POST",We(n,i),pe);return ge.urlParams=V,ge.headers=d,ge.body=K.uploadData(),ge.errorHandler=ve(e),ge}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),u=this._ref.storage._makeRequest(s,ue,e,i);this._request=u,u.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const i=this._transferred;this._transferred=e,this._transferred!==i&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const i="paused"===this._state;this._state=e,i&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Se(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=lt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,i,s,u){const c=new mr(i||void 0,s||void 0,u||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(e,i){return this._promise.then(e,i)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const i=this._observers.indexOf(e);-1!==i&&this._observers.splice(i,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(i=>{this._notifyObserver(i)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(lt(this._state)){case ie.SUCCESS:Te(this._resolve.bind(null,this.snapshot))();break;case ie.CANCELED:case ie.ERROR:Te(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(lt(this._state)){case ie.RUNNING:case ie.PAUSED:e.next&&Te(e.next.bind(e,this.snapshot))();break;case ie.SUCCESS:e.complete&&Te(e.complete.bind(e))();break;default:e.error&&Te(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class we{constructor(e,i){this._service=e,this._location=i instanceof J?i:J.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new we(e,i)}get root(){const e=new J(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wt(this._location.path)}get storage(){return this._service}get parent(){const e=function Vt(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const i=new J(this._location.bucket,e);return new we(this._service,i)}_throwIfRoot(e){if(""===this._location.path)throw Ce(e)}}function Ct(n,e,i){return ct.apply(this,arguments)}function ct(){return(ct=(0,x.Z)(function*(n,e,i){const u=yield It(n,{pageToken:i});e.prefixes.push(...u.prefixes),e.items.push(...u.items),null!=u.nextPageToken&&(yield Ct(n,e,u.nextPageToken))})).apply(this,arguments)}function It(n,e){null!=e&&"number"==typeof e.maxResults&&t("options.maxResults",1,1e3,e.maxResults);const i=e||{},s=ar(n.storage,n._location,"/",i.pageToken,i.maxResults);return n.storage.makeRequestWithTokens(s,ue)}function Fr(n){n._throwIfRoot("getDownloadURL");const e=function ur(n,e,i){const u=r(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,_=new ce(u,"GET",function sr(n,e){return function i(s,u){const c=xt(n,u,e);return he(null!==c),function rr(n,e,i,s){const u=st(e);if(null===u||!_e(u.downloadTokens))return null;const c=u.downloadTokens;if(0===c.length)return null;const d=encodeURIComponent;return c.split(",").map(E=>{const z=n.fullPath;return r("/b/"+d(n.bucket)+"/o/"+d(z),i,s)+a({alt:"media",token:E})})[0]}(c,u,n.host,n._protocol)}}(n,i),d);return _.errorHandler=Pe(e),_}(n.storage,n._location,Be());return n.storage.makeRequestWithTokens(e,ue).then(i=>{if(null===i)throw function q(){return new D("no-download-url","The given file does not have any download URLs.")}();return i})}function Bt(n,e){const i=function Yt(n,e){const i=e.split("/").filter(s=>s.length>0).join("/");return 0===n.length?i:n+"/"+i}(n._location.path,e),s=new J(n._location.bucket,i);return new we(n.storage,s)}function Pt(n,e){if(n instanceof ht){const i=n;if(null==i._bucket)throw function et(){return new D("no-default-bucket","No default bucket found. Did you set the '"+ee+"' property when initializing the app?")}();const s=new we(i,i._bucket);return null!=e?Pt(s,e):s}return void 0!==e?Bt(n,e):n}function Pr(n,e){if(e&&function Ir(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof ht)return function Br(n,e){return new we(n,e)}(n,e);throw W("To use ref(service, url), the first argument must be a Storage instance.")}return Pt(n,e)}function Mt(n,e){const i=null==e?void 0:e[ee];return null==i?null:J.makeFromBucketSpec(i,n)}class ht{constructor(e,i,s,u,c){this.app=e,this._authProvider=i,this._appCheckProvider=s,this._url=u,this._firebaseVersion=c,this._bucket=null,this._host=Z,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=u?J.makeFromBucketSpec(u,this._host):Mt(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?J.makeFromBucketSpec(this._url,e):Mt(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){t("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){t("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,x.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const i=e._authProvider.getImmediate({optional:!0});if(i){const s=yield i.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,x.Z)(function*(){const i=e._appCheckProvider.getImmediate({optional:!0});return i?(yield i.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new we(this,e)}_makeRequest(e,i,s,u){if(this._deleted)return new Ie(Fe());{const c=function O(n,e,i,s,u,c){const d=a(n.urlParams),_=n.url+d,g=Object.assign({},n.headers);return function L(n,e){e&&(n["X-Firebase-GMPID"]=e)}(g,e),function A(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(g,i),function P(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(g,c),function Q(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(g,s),new f(_,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,u)}(e,this._appId,s,u,i,this._firebaseVersion);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,i){var s=this;return(0,x.Z)(function*(){const[u,c]=yield Promise.all([s._getAuthToken(),s._getAppCheckToken()]);return s._makeRequest(e,i,u,c).getPromise()})()}}const Lt="@firebase/storage";function Nt(n,e){return Pr(n=(0,I.m9)(n),e)}function jr(n,{instanceIdentifier:e}){const i=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),u=n.getProvider("app-check-internal");return new ht(i,s,u,e,C.SDK_VERSION)}!function qr(){(0,C._registerComponent)(new M.wA("storage",jr,"PUBLIC").setMultipleInstances(!0)),(0,C.registerVersion)(Lt,"0.9.5",""),(0,C.registerVersion)(Lt,"0.9.5","esm2017")}();class je{constructor(e,i,s){this._delegate=e,this.task=i,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Gt{constructor(e,i){this._delegate=e,this._ref=i,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new je(this._delegate.snapshot,this,this._ref)}then(e,i){return this._delegate.then(s=>{if(e)return e(new je(s,this,this._ref))},i)}on(e,i,s,u){let c;return i&&(c="function"==typeof i?d=>i(new je(d,this,this._ref)):{next:i.next?d=>i.next(new je(d,this,this._ref)):void 0,complete:i.complete||void 0,error:i.error||void 0}),this._delegate.on(e,c,s||void 0,u||void 0)}}class Ht{constructor(e,i){this._delegate=e,this._service=i}get prefixes(){return this._delegate.prefixes.map(e=>new fe(e,this._service))}get items(){return this._delegate.items.map(e=>new fe(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class fe{constructor(e,i){this._delegate=e,this.storage=i}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const i=function Wr(n,e){return Bt(n,e)}(this._delegate,e);return new fe(i,this.storage)}get root(){return new fe(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new fe(e,this.storage)}put(e,i){return this._throwIfRoot("put"),new Gt(function Lr(n,e,i){return function Tr(n,e,i){return n._throwIfRoot("uploadBytesResumable"),new St(n,new le(e),i)}(n=(0,I.m9)(n),e,i)}(this._delegate,e,i),this)}putString(e,i=oe.RAW,s){this._throwIfRoot("putString");const u=ot(i,e),c=Object.assign({},s);return null==c.contentType&&null!=u.contentType&&(c.contentType=u.contentType),new Gt(new St(this._delegate,new le(u.data,!0),c),this)}listAll(){return function Gr(n){return function Ar(n){const e={prefixes:[],items:[]};return Ct(n,e).then(()=>e)}(n=(0,I.m9)(n))}(this._delegate).then(e=>new Ht(e,this.storage))}list(e){return function Nr(n,e){return It(n=(0,I.m9)(n),e)}(this._delegate,e||void 0).then(i=>new Ht(i,this.storage))}getMetadata(){return function Dr(n){return function kr(n){n._throwIfRoot("getMetadata");const e=bt(n.storage,n._location,Be());return n.storage.makeRequestWithTokens(e,ue)}(n=(0,I.m9)(n))}(this._delegate)}updateMetadata(e){return function Or(n,e){return function Sr(n,e){n._throwIfRoot("updateMetadata");const i=function lr(n,e,i,s){const c=r(e.fullServerUrl(),n.host,n._protocol),_=at(i,s),E=n.maxOperationRetryTime,b=new ce(c,"PATCH",We(n,s),E);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=_,b.errorHandler=Pe(e),b}(n.storage,n._location,e,Be());return n.storage.makeRequestWithTokens(i,ue)}(n=(0,I.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function Hr(n){return Fr(n=(0,I.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function $r(n){return function Cr(n){n._throwIfRoot("deleteObject");const e=function cr(n,e){const s=r(e.fullServerUrl(),n.host,n._protocol),_=new ce(s,"DELETE",function d(g,E){},n.maxOperationRetryTime);return _.successCodes=[200,204],_.errorHandler=Pe(e),_}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,ue)}(n=(0,I.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw Ce(e)}}class $t{constructor(e,i){this.app=e,this._delegate=i}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Wt(e))throw W("ref() expected a child path but got a URL, use refFromURL instead.");return new fe(Nt(this._delegate,e),this)}refFromURL(e){if(!Wt(e))throw W("refFromURL() expected a full URL but got a child path, use ref() instead.");try{J.makeFromUrl(e,this._delegate.host)}catch{throw W("refFromUrl() expected a valid full URL but got an invalid one.")}return new fe(Nt(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,i,s={}){!function zr(n,e,i,s={}){!function Mr(n,e,i,s={}){n.host=`${e}:${i}`,n._protocol="http";const{mockUserToken:u}=s;u&&(n._overrideAuthToken="string"==typeof u?u:(0,I.Sg)(u,n.app.options.projectId))}(n,e,i,s)}(this._delegate,e,i,s)}}function Wt(n){return/^[A-Za-z]+:\/\//.test(n)}function Vr(n,{instanceIdentifier:e}){const i=n.getProvider("app-compat").getImmediate(),s=n.getProvider("storage").getImmediate({identifier:e});return new $t(i,s)}!function Yr(n){const e={TaskState:ie,TaskEvent:gr,StringFormat:oe,Storage:$t,Reference:fe};n.INTERNAL.registerComponent(new M.wA("storage-compat",Vr,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.13")}(U.Z);var Jr=w(440);function zt(n){const e=function Qr(n){return new h.y(e=>{const i=d=>e.next(d);i(n.snapshot);const c=n.on("state_changed",i);return n.then(d=>{i(d),e.complete()},d=>{i(n.snapshot),(d=>{e.error(d)})(d)}),function(){c()}}).pipe((0,$.b)(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,F.U)(i=>i.bytesTransferred/i.totalBytes*100))}}function qe(n){return{getDownloadURL:()=>(0,j.of)(void 0).pipe(m.fc,(0,v.w)(()=>n.getDownloadURL()),m.iC),getMetadata:()=>(0,j.of)(void 0).pipe(m.fc,(0,v.w)(()=>n.getMetadata()),m.iC),delete:()=>(0,S.D)(n.delete()),child:e=>qe(n.child(e)),updateMetadata:e=>(0,S.D)(n.updateMetadata(e)),put:(e,i)=>zt(n.put(e,i)),putString:(e,i,s)=>zt(n.putString(e,i,s)),list:e=>(0,S.D)(n.list(e)),listAll:()=>(0,S.D)(n.listAll())}}w(127);const en=new y.OlP("angularfire2.storageBucket"),tn=new y.OlP("angularfire2.storage.maxUploadRetryTime"),rn=new y.OlP("angularfire2.storage.maxOperationRetryTime"),nn=new y.OlP("angularfire2.storage.use-emulator");let on=(()=>{class n{constructor(i,s,u,c,d,_,g,E,b,z){const H=(0,R.on)(i,d,s);this.storage=(0,R.cc)(`${H.name}.storage.${u}`,"AngularFireStorage",H.name,()=>{const K=d.runOutsideAngular(()=>H.storage(u||void 0)),V=b;return V&&K.useEmulator(...V),g&&K.setMaxUploadRetryTime(g),E&&K.setMaxOperationRetryTime(E),K},[g,E])}ref(i){return qe(this.storage.ref(i))}refFromURL(i){return qe(this.storage.refFromURL(i))}upload(i,s,u){return qe(this.storage.ref(i)).put(s,u)}}return n.\u0275fac=function(i){return new(i||n)(y.LFG(R.Dh),y.LFG(R.xv,8),y.LFG(en,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(m.HU),y.LFG(tn,8),y.LFG(rn,8),y.LFG(nn,8),y.LFG(Jr.nm,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var sn=w(529);function dt(){return(dt=(0,x.Z)(function*(n){let e=yield crypto.subtle.digest("SHA-256",n);return new Uint8Array(e).reduce((i,s)=>i+String.fromCharCode(s),"")})).apply(this,arguments)}function ft(){return(ft=(0,x.Z)(function*(n){const e=new FileReader;return new Promise((i,s)=>{e.onloadend=u=>{i(u.target?.result)},e.onerror=s,e.readAsArrayBuffer(n)})})).apply(this,arguments)}let hn=(()=>{class n{constructor(i,s,u){this.db=i,this.storage=s,this.httpClient=u,this.cached=new Map}loadFromServer(i,s){var u=this;return(0,x.Z)(function*(){let c=u.cached.get(i),d=yield u.loadInfo(i);if(console.log(d,c),void 0===d?.hash){let g=yield s.run("instance.save()");yield u.saveFirstVersion(i,g),d=yield u.loadInfo(i)}let _=yield u.loadModelData(i,d);yield s.run("instance.load()",{version:d.version,params:_.params})})()}saveFirstVersion(i,s){var u=this;return(0,x.Z)(function*(){let c=yield u.saveModelData(i,{params:s.params});yield u.saveModelInfo(i,{version:1,hash:c})})()}saveModelChanges(i,s,u){var c=this;return(0,x.Z)(function*(){const d=(0,T.$)(u,s).map(b=>b[0]-b[1]);let _=yield c.loadInfo(i),g=yield c.loadModelData(i,_);if(null===g)throw new Error;let E=(0,T.$)(g.params,d).map(b=>b[0]+b[1]);_.version++,_.hash=yield c.saveModelData(i,{params:E}),yield c.saveModelInfo(i,_)})()}loadInfo(i){var s=this;return(0,x.Z)(function*(){const u=n.createModelPath(i);return(0,N.z)(s.db.object(u).snapshotChanges().pipe((0,F.U)(c=>c.payload.val())))})()}saveModelInfo(i,s){var u=this;return(0,x.Z)(function*(){const c=n.createModelPath(i);yield u.db.object(c).set(s)})()}loadModelData(i,s){var u=this;return(0,x.Z)(function*(){if(void 0===s.hash)return null;let c=u.cached.get(i);if(void 0!==c&&c.hash===s.hash)return{params:c.params};let d=yield(0,N.z)(u.storage.ref(n.createModelFile(i)).getDownloadURL()),_=yield(0,N.z)(u.httpClient.get(d,{responseType:"blob"})),g=yield function cn(n){return ft.apply(this,arguments)}(_),E=function un(n){return Array.from(new Float32Array(new Uint8Array(n).buffer))}(g);return u.cached.set(i,{hash:s.hash,params:E}),{params:E}})()}saveModelData(i,s){var u=this;return(0,x.Z)(function*(){let c=function an(n){return k.lW.from(new Uint8Array(new Float32Array(n).buffer).buffer)}(s.params),d=yield function ln(n){return dt.apply(this,arguments)}(c);return yield u.storage.ref(n.createModelFile(i)).put(c),u.cached.set(i,{params:s.params,hash:d}),d})()}static createModelPath(i){return"/models/"+i}static createModelFile(i){return"/models/"+i+".dat"}}return n.\u0275fac=function(i){return new(i||n)(y.LFG(B.KQ),y.LFG(on),y.LFG(sn.eN))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},1702:(xe,Y,w)=>{"use strict";w.d(Y,{Z:()=>j});var x=w(5861),N=w(3905),F=w(2557),T=w(6895),k=w(7225),y=w(4650),B=w(529),h=w(3917);let j=(()=>{class S{constructor(v,m,R){this.httpClient=v,this.aiRepos=m,this.document=R}loadScript(v){var m=this;return(0,x.Z)(function*(){if(v===m.loaded)return;yield m.initWorker();let C={action:"select",code:yield m.getCode(v),data:yield m.getDependencies(v)};yield m.waitWorker(C),console.log(v+" loaded"),m.loaded=v})()}run(v,m={},R){var U=this;return(0,x.Z)(function*(){let C={action:"run",expression:v,params:m},I=U.worker;return yield new Promise((M,Z)=>{I.postMessage(C),I.addEventListener("error",ee=>{console.error(ee),R?.(ee.message,!0),Z(ee.error)}),I.addEventListener("message",ee=>{let G=ee.data;"output"===G.action?(console.log(G.content),R?.(G.content,G.isError)):"result"===G.action&&(M(G.content),I.removeAllListeners?.())})})})()}initWorker(){var v=this;return(0,x.Z)(function*(){if(void 0===v.worker){if(typeof Worker>"u")throw TypeError("Workers are not supported in your system");return v.worker=new Worker(w.tu(new URL(w.p+w.u(850),w.b))),v.waitWorker({action:"init",baseUrl:v.document.location.origin})}})()}waitWorker(v){var m=this;return(0,x.Z)(function*(){return new Promise((R,U)=>{m.worker.postMessage(v),m.worker.addEventListener("error",U),m.worker.addEventListener("message",C=>R(C.data))})})()}getCode(v){var m=this;return(0,x.Z)(function*(){let R=m.httpClient.get(`assets/python/${v}.py`,{responseType:"text"});return yield(0,N.z)(R)})()}getDependencies(v){var m=this;return(0,x.Z)(function*(){let R=new Map;switch(v){case"test":break;case"digit_recognition":let[U,C]=yield(0,N.z)((0,F.$)([m.httpClient.get("assets/mnist_train.dat",{responseType:"arraybuffer"}),m.httpClient.get("assets/mnist_test.dat",{responseType:"arraybuffer"})]));R.set("train_data",(0,k.l)(U)),R.set("test_data",(0,k.l)(C))}return R})()}}return S.\u0275fac=function(v){return new(v||S)(y.LFG(B.eN),y.LFG(h.f),y.LFG(T.K0))},S.\u0275prov=y.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},7225:(xe,Y,w)=>{"use strict";function x(F,T){if(F.length!==T.length)throw RangeError("Arrays must have the same length: "+F.length+":"+T.length);const k=[];for(let y=0;y<F.length;y++)k[y]=[F[y],T[y]];return k}function N(F){let T="",k=new Uint8Array(F);for(let y of k)T+=String.fromCharCode(y);return T}w.d(Y,{$:()=>x,l:()=>N})},5343:(xe,Y)=>{"use strict";Y.byteLength=function B(m){var R=y(m),C=R[1];return 3*(R[0]+C)/4-C},Y.toByteArray=function j(m){var R,G,U=y(m),C=U[0],I=U[1],M=new N(function h(m,R,U){return 3*(R+U)/4-U}(0,C,I)),Z=0,ee=I>0?C-4:C;for(G=0;G<ee;G+=4)R=x[m.charCodeAt(G)]<<18|x[m.charCodeAt(G+1)]<<12|x[m.charCodeAt(G+2)]<<6|x[m.charCodeAt(G+3)],M[Z++]=R>>16&255,M[Z++]=R>>8&255,M[Z++]=255&R;return 2===I&&(R=x[m.charCodeAt(G)]<<2|x[m.charCodeAt(G+1)]>>4,M[Z++]=255&R),1===I&&(R=x[m.charCodeAt(G)]<<10|x[m.charCodeAt(G+1)]<<4|x[m.charCodeAt(G+2)]>>2,M[Z++]=R>>8&255,M[Z++]=255&R),M},Y.fromByteArray=function v(m){for(var R,U=m.length,C=U%3,I=[],M=16383,Z=0,ee=U-C;Z<ee;Z+=M)I.push($(m,Z,Z+M>ee?ee:Z+M));return 1===C?I.push(w[(R=m[U-1])>>2]+w[R<<4&63]+"=="):2===C&&I.push(w[(R=(m[U-2]<<8)+m[U-1])>>10]+w[R>>4&63]+w[R<<2&63]+"="),I.join("")};for(var w=[],x=[],N=typeof Uint8Array<"u"?Uint8Array:Array,F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=0,k=F.length;T<k;++T)w[T]=F[T],x[F.charCodeAt(T)]=T;function y(m){var R=m.length;if(R%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var U=m.indexOf("=");return-1===U&&(U=R),[U,U===R?0:4-U%4]}function S(m){return w[m>>18&63]+w[m>>12&63]+w[m>>6&63]+w[63&m]}function $(m,R,U){for(var I=[],M=R;M<U;M+=3)I.push(S((m[M]<<16&16711680)+(m[M+1]<<8&65280)+(255&m[M+2])));return I.join("")}x["-".charCodeAt(0)]=62,x["_".charCodeAt(0)]=63},3172:(xe,Y,w)=>{"use strict";var N=w(5343),F=w(8461),T="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Y.lW=h,Y.h2=50;var k=2147483647;function B(o){if(o>k)throw new RangeError('The value "'+o+'" is invalid for option "size"');var t=new Uint8Array(o);return Object.setPrototypeOf(t,h.prototype),t}function h(o,t,r){if("number"==typeof o){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return v(o)}return j(o,t,r)}function j(o,t,r){if("string"==typeof o)return function m(o,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!h.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|ee(o,t),a=B(r),l=a.write(o,t);return l!==r&&(a=a.slice(0,l)),a}(o,t);if(ArrayBuffer.isView(o))return function U(o){if(se(o,Uint8Array)){var t=new Uint8Array(o);return C(t.buffer,t.byteOffset,t.byteLength)}return R(o)}(o);if(null==o)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o);if(se(o,ArrayBuffer)||o&&se(o.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(se(o,SharedArrayBuffer)||o&&se(o.buffer,SharedArrayBuffer)))return C(o,t,r);if("number"==typeof o)throw new TypeError('The "value" argument must not be of type number. Received type number');var a=o.valueOf&&o.valueOf();if(null!=a&&a!==o)return h.from(a,t,r);var l=function I(o){if(h.isBuffer(o)){var t=0|M(o.length),r=B(t);return 0===r.length||o.copy(r,0,0,t),r}return void 0!==o.length?"number"!=typeof o.length||_e(o.length)?B(0):R(o):"Buffer"===o.type&&Array.isArray(o.data)?R(o.data):void 0}(o);if(l)return l;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof o[Symbol.toPrimitive])return h.from(o[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o)}function S(o){if("number"!=typeof o)throw new TypeError('"size" argument must be of type number');if(o<0)throw new RangeError('The value "'+o+'" is invalid for option "size"')}function v(o){return S(o),B(o<0?0:0|M(o))}function R(o){for(var t=o.length<0?0:0|M(o.length),r=B(t),a=0;a<t;a+=1)r[a]=255&o[a];return r}function C(o,t,r){if(t<0||o.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(o.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var a;return a=void 0===t&&void 0===r?new Uint8Array(o):void 0===r?new Uint8Array(o,t):new Uint8Array(o,t,r),Object.setPrototypeOf(a,h.prototype),a}function M(o){if(o>=k)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+k.toString(16)+" bytes");return 0|o}function ee(o,t){if(h.isBuffer(o))return o.length;if(ArrayBuffer.isView(o)||se(o,ArrayBuffer))return o.byteLength;if("string"!=typeof o)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof o);var r=o.length,a=arguments.length>2&&!0===arguments[2];if(!a&&0===r)return 0;for(var l=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Ie(o).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Oe(o).length;default:if(l)return a?-1:Ie(o).length;t=(""+t).toLowerCase(),l=!0}}function G(o,t,r){var a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(o||(o="utf8");;)switch(o){case"hex":return De(this,t,r);case"utf8":case"utf-8":return Le(this,t,r);case"ascii":return Qe(this,t,r);case"latin1":case"binary":return et(this,t,r);case"base64":return Ye(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tt(this,t,r);default:if(a)throw new TypeError("Unknown encoding: "+o);o=(o+"").toLowerCase(),a=!0}}function de(o,t,r){var a=o[t];o[t]=o[r],o[r]=a}function D(o,t,r,a,l){if(0===o.length)return-1;if("string"==typeof r?(a=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),_e(r=+r)&&(r=l?0:o.length-1),r<0&&(r=o.length+r),r>=o.length){if(l)return-1;r=o.length-1}else if(r<0){if(!l)return-1;r=0}if("string"==typeof t&&(t=h.from(t,a)),h.isBuffer(t))return 0===t.length?-1:Re(o,t,r,a,l);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?l?Uint8Array.prototype.indexOf.call(o,t,r):Uint8Array.prototype.lastIndexOf.call(o,t,r):Re(o,[t],r,a,l);throw new TypeError("val must be string, number or Buffer")}function Re(o,t,r,a,l){var L,f=1,p=o.length,A=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(o.length<2||t.length<2)return-1;f=2,p/=2,A/=2,r/=2}function P(Ge,He){return 1===f?Ge[He]:Ge.readUInt16BE(He*f)}if(l){var Q=-1;for(L=r;L<p;L++)if(P(o,L)===P(t,-1===Q?0:L-Q)){if(-1===Q&&(Q=L),L-Q+1===A)return Q*f}else-1!==Q&&(L-=L-Q),Q=-1}else for(r+A>p&&(r=p-A),L=r;L>=0;L--){for(var O=!0,be=0;be<A;be++)if(P(o,L+be)!==P(t,be)){O=!1;break}if(O)return L}return-1}function ke(o,t,r,a){r=Number(r)||0;var l=o.length-r;a?(a=Number(a))>l&&(a=l):a=l;var f=t.length;a>f/2&&(a=f/2);for(var p=0;p<a;++p){var A=parseInt(t.substr(2*p,2),16);if(_e(A))return p;o[r+p]=A}return p}function Xe(o,t,r,a){return Ee(Ie(t,o.length-r),o,r,a)}function Ze(o,t,r,a){return Ee(function rt(o){for(var t=[],r=0;r<o.length;++r)t.push(255&o.charCodeAt(r));return t}(t),o,r,a)}function Ke(o,t,r,a){return Ee(Oe(t),o,r,a)}function Ve(o,t,r,a){return Ee(function nt(o,t){for(var r,a,f=[],p=0;p<o.length&&!((t-=2)<0);++p)a=(r=o.charCodeAt(p))>>8,f.push(r%256),f.push(a);return f}(t,o.length-r),o,r,a)}function Ye(o,t,r){return N.fromByteArray(0===t&&r===o.length?o:o.slice(t,r))}function Le(o,t,r){r=Math.min(o.length,r);for(var a=[],l=t;l<r;){var P,L,Q,O,f=o[l],p=null,A=f>239?4:f>223?3:f>191?2:1;if(l+A<=r)switch(A){case 1:f<128&&(p=f);break;case 2:128==(192&(P=o[l+1]))&&(O=(31&f)<<6|63&P)>127&&(p=O);break;case 3:L=o[l+2],128==(192&(P=o[l+1]))&&128==(192&L)&&(O=(15&f)<<12|(63&P)<<6|63&L)>2047&&(O<55296||O>57343)&&(p=O);break;case 4:L=o[l+2],Q=o[l+3],128==(192&(P=o[l+1]))&&128==(192&L)&&128==(192&Q)&&(O=(15&f)<<18|(63&P)<<12|(63&L)<<6|63&Q)>65535&&O<1114112&&(p=O)}null===p?(p=65533,A=1):p>65535&&(a.push((p-=65536)>>>10&1023|55296),p=56320|1023&p),a.push(p),l+=A}return function Je(o){var t=o.length;if(t<=4096)return String.fromCharCode.apply(String,o);for(var r="",a=0;a<t;)r+=String.fromCharCode.apply(String,o.slice(a,a+=4096));return r}(a)}function Qe(o,t,r){var a="";r=Math.min(o.length,r);for(var l=t;l<r;++l)a+=String.fromCharCode(127&o[l]);return a}function et(o,t,r){var a="";r=Math.min(o.length,r);for(var l=t;l<r;++l)a+=String.fromCharCode(o[l]);return a}function De(o,t,r){var a=o.length;(!t||t<0)&&(t=0),(!r||r<0||r>a)&&(r=a);for(var l="",f=t;f<r;++f)l+=Ne[o[f]];return l}function tt(o,t,r){for(var a=o.slice(t,r),l="",f=0;f<a.length-1;f+=2)l+=String.fromCharCode(a[f]+256*a[f+1]);return l}function q(o,t,r){if(o%1!=0||o<0)throw new RangeError("offset is not uint");if(o+t>r)throw new RangeError("Trying to access beyond buffer length")}function W(o,t,r,a,l,f){if(!h.isBuffer(o))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>l||t<f)throw new RangeError('"value" argument is out of bounds');if(r+a>o.length)throw new RangeError("Index out of range")}function Fe(o,t,r,a,l,f){if(r+a>o.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Ce(o,t,r,a,l){return t=+t,r>>>=0,l||Fe(o,0,r,4),F.write(o,t,r,a,23,4),r+4}function me(o,t,r,a,l){return t=+t,r>>>=0,l||Fe(o,0,r,8),F.write(o,t,r,a,52,8),r+8}!(h.TYPED_ARRAY_SUPPORT=function y(){try{var o=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(o,t),42===o.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(o,t,r){return j(o,t,r)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(o,t,r){return function $(o,t,r){return S(o),o<=0?B(o):void 0!==t?"string"==typeof r?B(o).fill(t,r):B(o).fill(t):B(o)}(o,t,r)},h.allocUnsafe=function(o){return v(o)},h.allocUnsafeSlow=function(o){return v(o)},h.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==h.prototype},h.compare=function(t,r){if(se(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),se(r,Uint8Array)&&(r=h.from(r,r.offset,r.byteLength)),!h.isBuffer(t)||!h.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;for(var a=t.length,l=r.length,f=0,p=Math.min(a,l);f<p;++f)if(t[f]!==r[f]){a=t[f],l=r[f];break}return a<l?-1:l<a?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);var a;if(void 0===r)for(r=0,a=0;a<t.length;++a)r+=t[a].length;var l=h.allocUnsafe(r),f=0;for(a=0;a<t.length;++a){var p=t[a];if(se(p,Uint8Array))f+p.length>l.length?h.from(p).copy(l,f):Uint8Array.prototype.set.call(l,p,f);else{if(!h.isBuffer(p))throw new TypeError('"list" argument must be an Array of Buffers');p.copy(l,f)}f+=p.length}return l},h.byteLength=ee,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)de(this,r,r+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)de(this,r,r+3),de(this,r+1,r+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)de(this,r,r+7),de(this,r+1,r+6),de(this,r+2,r+5),de(this,r+3,r+4);return this},h.prototype.toLocaleString=h.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?Le(this,0,t):G.apply(this,arguments)},h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){var t="",r=Y.h2;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},T&&(h.prototype[T]=h.prototype.inspect),h.prototype.compare=function(t,r,a,l,f){if(se(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===r&&(r=0),void 0===a&&(a=t?t.length:0),void 0===l&&(l=0),void 0===f&&(f=this.length),r<0||a>t.length||l<0||f>this.length)throw new RangeError("out of range index");if(l>=f&&r>=a)return 0;if(l>=f)return-1;if(r>=a)return 1;if(this===t)return 0;for(var p=(f>>>=0)-(l>>>=0),A=(a>>>=0)-(r>>>=0),P=Math.min(p,A),L=this.slice(l,f),Q=t.slice(r,a),O=0;O<P;++O)if(L[O]!==Q[O]){p=L[O],A=Q[O];break}return p<A?-1:A<p?1:0},h.prototype.includes=function(t,r,a){return-1!==this.indexOf(t,r,a)},h.prototype.indexOf=function(t,r,a){return D(this,t,r,a,!0)},h.prototype.lastIndexOf=function(t,r,a){return D(this,t,r,a,!1)},h.prototype.write=function(t,r,a,l){if(void 0===r)l="utf8",a=this.length,r=0;else if(void 0===a&&"string"==typeof r)l=r,a=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r>>>=0,isFinite(a)?(a>>>=0,void 0===l&&(l="utf8")):(l=a,a=void 0)}var f=this.length-r;if((void 0===a||a>f)&&(a=f),t.length>0&&(a<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");l||(l="utf8");for(var p=!1;;)switch(l){case"hex":return ke(this,t,r,a);case"utf8":case"utf-8":return Xe(this,t,r,a);case"ascii":case"latin1":case"binary":return Ze(this,t,r,a);case"base64":return Ke(this,t,r,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ve(this,t,r,a);default:if(p)throw new TypeError("Unknown encoding: "+l);l=(""+l).toLowerCase(),p=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},h.prototype.slice=function(t,r){var a=this.length;(t=~~t)<0?(t+=a)<0&&(t=0):t>a&&(t=a),(r=void 0===r?a:~~r)<0?(r+=a)<0&&(r=0):r>a&&(r=a),r<t&&(r=t);var l=this.subarray(t,r);return Object.setPrototypeOf(l,h.prototype),l},h.prototype.readUintLE=h.prototype.readUIntLE=function(t,r,a){t>>>=0,r>>>=0,a||q(t,r,this.length);for(var l=this[t],f=1,p=0;++p<r&&(f*=256);)l+=this[t+p]*f;return l},h.prototype.readUintBE=h.prototype.readUIntBE=function(t,r,a){t>>>=0,r>>>=0,a||q(t,r,this.length);for(var l=this[t+--r],f=1;r>0&&(f*=256);)l+=this[t+--r]*f;return l},h.prototype.readUint8=h.prototype.readUInt8=function(t,r){return t>>>=0,r||q(t,1,this.length),this[t]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(t,r){return t>>>=0,r||q(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(t,r){return t>>>=0,r||q(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(t,r){return t>>>=0,r||q(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(t,r){return t>>>=0,r||q(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,r,a){t>>>=0,r>>>=0,a||q(t,r,this.length);for(var l=this[t],f=1,p=0;++p<r&&(f*=256);)l+=this[t+p]*f;return l>=(f*=128)&&(l-=Math.pow(2,8*r)),l},h.prototype.readIntBE=function(t,r,a){t>>>=0,r>>>=0,a||q(t,r,this.length);for(var l=r,f=1,p=this[t+--l];l>0&&(f*=256);)p+=this[t+--l]*f;return p>=(f*=128)&&(p-=Math.pow(2,8*r)),p},h.prototype.readInt8=function(t,r){return t>>>=0,r||q(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,r){t>>>=0,r||q(t,2,this.length);var a=this[t]|this[t+1]<<8;return 32768&a?4294901760|a:a},h.prototype.readInt16BE=function(t,r){t>>>=0,r||q(t,2,this.length);var a=this[t+1]|this[t]<<8;return 32768&a?4294901760|a:a},h.prototype.readInt32LE=function(t,r){return t>>>=0,r||q(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,r){return t>>>=0,r||q(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,r){return t>>>=0,r||q(t,4,this.length),F.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,r){return t>>>=0,r||q(t,4,this.length),F.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,r){return t>>>=0,r||q(t,8,this.length),F.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,r){return t>>>=0,r||q(t,8,this.length),F.read(this,t,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(t,r,a,l){t=+t,r>>>=0,a>>>=0,l||W(this,t,r,a,Math.pow(2,8*a)-1,0);var p=1,A=0;for(this[r]=255&t;++A<a&&(p*=256);)this[r+A]=t/p&255;return r+a},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(t,r,a,l){t=+t,r>>>=0,a>>>=0,l||W(this,t,r,a,Math.pow(2,8*a)-1,0);var p=a-1,A=1;for(this[r+p]=255&t;--p>=0&&(A*=256);)this[r+p]=t/A&255;return r+a},h.prototype.writeUint8=h.prototype.writeUInt8=function(t,r,a){return t=+t,r>>>=0,a||W(this,t,r,1,255,0),this[r]=255&t,r+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(t,r,a){return t=+t,r>>>=0,a||W(this,t,r,2,65535,0),this[r]=255&t,this[r+1]=t>>>8,r+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(t,r,a){return t=+t,r>>>=0,a||W(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=255&t,r+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(t,r,a){return t=+t,r>>>=0,a||W(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t,r+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(t,r,a){return t=+t,r>>>=0,a||W(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t,r+4},h.prototype.writeIntLE=function(t,r,a,l){if(t=+t,r>>>=0,!l){var f=Math.pow(2,8*a-1);W(this,t,r,a,f-1,-f)}var p=0,A=1,P=0;for(this[r]=255&t;++p<a&&(A*=256);)t<0&&0===P&&0!==this[r+p-1]&&(P=1),this[r+p]=(t/A>>0)-P&255;return r+a},h.prototype.writeIntBE=function(t,r,a,l){if(t=+t,r>>>=0,!l){var f=Math.pow(2,8*a-1);W(this,t,r,a,f-1,-f)}var p=a-1,A=1,P=0;for(this[r+p]=255&t;--p>=0&&(A*=256);)t<0&&0===P&&0!==this[r+p+1]&&(P=1),this[r+p]=(t/A>>0)-P&255;return r+a},h.prototype.writeInt8=function(t,r,a){return t=+t,r>>>=0,a||W(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=255&t,r+1},h.prototype.writeInt16LE=function(t,r,a){return t=+t,r>>>=0,a||W(this,t,r,2,32767,-32768),this[r]=255&t,this[r+1]=t>>>8,r+2},h.prototype.writeInt16BE=function(t,r,a){return t=+t,r>>>=0,a||W(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=255&t,r+2},h.prototype.writeInt32LE=function(t,r,a){return t=+t,r>>>=0,a||W(this,t,r,4,2147483647,-2147483648),this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4},h.prototype.writeInt32BE=function(t,r,a){return t=+t,r>>>=0,a||W(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t,r+4},h.prototype.writeFloatLE=function(t,r,a){return Ce(this,t,r,!0,a)},h.prototype.writeFloatBE=function(t,r,a){return Ce(this,t,r,!1,a)},h.prototype.writeDoubleLE=function(t,r,a){return me(this,t,r,!0,a)},h.prototype.writeDoubleBE=function(t,r,a){return me(this,t,r,!1,a)},h.prototype.copy=function(t,r,a,l){if(!h.isBuffer(t))throw new TypeError("argument should be a Buffer");if(a||(a=0),!l&&0!==l&&(l=this.length),r>=t.length&&(r=t.length),r||(r=0),l>0&&l<a&&(l=a),l===a||0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("sourceEnd out of bounds");l>this.length&&(l=this.length),t.length-r<l-a&&(l=t.length-r+a);var f=l-a;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(r,a,l):Uint8Array.prototype.set.call(t,this.subarray(a,l),r),f},h.prototype.fill=function(t,r,a,l){if("string"==typeof t){if("string"==typeof r?(l=r,r=0,a=this.length):"string"==typeof a&&(l=a,a=this.length),void 0!==l&&"string"!=typeof l)throw new TypeError("encoding must be a string");if("string"==typeof l&&!h.isEncoding(l))throw new TypeError("Unknown encoding: "+l);if(1===t.length){var f=t.charCodeAt(0);("utf8"===l&&f<128||"latin1"===l)&&(t=f)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(r<0||this.length<r||this.length<a)throw new RangeError("Out of range index");if(a<=r)return this;var p;if(r>>>=0,a=void 0===a?this.length:a>>>0,t||(t=0),"number"==typeof t)for(p=r;p<a;++p)this[p]=t;else{var A=h.isBuffer(t)?t:h.from(t,l),P=A.length;if(0===P)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(p=0;p<a-r;++p)this[p+r]=A[p%P]}return this};var ye=/[^+/0-9A-Za-z-_]/g;function Ie(o,t){t=t||1/0;for(var r,a=o.length,l=null,f=[],p=0;p<a;++p){if((r=o.charCodeAt(p))>55295&&r<57344){if(!l){if(r>56319){(t-=3)>-1&&f.push(239,191,189);continue}if(p+1===a){(t-=3)>-1&&f.push(239,191,189);continue}l=r;continue}if(r<56320){(t-=3)>-1&&f.push(239,191,189),l=r;continue}r=65536+(l-55296<<10|r-56320)}else l&&(t-=3)>-1&&f.push(239,191,189);if(l=null,r<128){if((t-=1)<0)break;f.push(r)}else if(r<2048){if((t-=2)<0)break;f.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;f.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;f.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return f}function Oe(o){return N.toByteArray(function J(o){if((o=(o=o.split("=")[0]).trim().replace(ye,"")).length<2)return"";for(;o.length%4!=0;)o+="=";return o}(o))}function Ee(o,t,r,a){for(var l=0;l<a&&!(l+r>=t.length||l>=o.length);++l)t[l+r]=o[l];return l}function se(o,t){return o instanceof t||null!=o&&null!=o.constructor&&null!=o.constructor.name&&o.constructor.name===t.name}function _e(o){return o!=o}var Ne=function(){for(var o="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var a=16*r,l=0;l<16;++l)t[a+l]=o[r]+o[l];return t}()},8461:(xe,Y)=>{Y.read=function(w,x,N,F,T){var k,y,B=8*T-F-1,h=(1<<B)-1,j=h>>1,S=-7,$=N?T-1:0,v=N?-1:1,m=w[x+$];for($+=v,k=m&(1<<-S)-1,m>>=-S,S+=B;S>0;k=256*k+w[x+$],$+=v,S-=8);for(y=k&(1<<-S)-1,k>>=-S,S+=F;S>0;y=256*y+w[x+$],$+=v,S-=8);if(0===k)k=1-j;else{if(k===h)return y?NaN:1/0*(m?-1:1);y+=Math.pow(2,F),k-=j}return(m?-1:1)*y*Math.pow(2,k-F)},Y.write=function(w,x,N,F,T,k){var y,B,h,j=8*k-T-1,S=(1<<j)-1,$=S>>1,v=23===T?Math.pow(2,-24)-Math.pow(2,-77):0,m=F?0:k-1,R=F?1:-1,U=x<0||0===x&&1/x<0?1:0;for(x=Math.abs(x),isNaN(x)||x===1/0?(B=isNaN(x)?1:0,y=S):(y=Math.floor(Math.log(x)/Math.LN2),x*(h=Math.pow(2,-y))<1&&(y--,h*=2),(x+=y+$>=1?v/h:v*Math.pow(2,1-$))*h>=2&&(y++,h/=2),y+$>=S?(B=0,y=S):y+$>=1?(B=(x*h-1)*Math.pow(2,T),y+=$):(B=x*Math.pow(2,$-1)*Math.pow(2,T),y=0));T>=8;w[N+m]=255&B,m+=R,B/=256,T-=8);for(y=y<<T|B,j+=T;j>0;w[N+m]=255&y,m+=R,y/=256,j-=8);w[N+m-R]|=128*U}},3905:(xe,Y,w)=>{"use strict";w.d(Y,{z:()=>F});var x=w(6805),N=w(930);function F(T,k){const y="object"==typeof k;return new Promise((B,h)=>{const j=new N.Hp({next:S=>{B(S),j.unsubscribe()},error:h,complete:()=>{y?B(k.defaultValue):h(new x.K)}});T.subscribe(j)})}}}]);